"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t,i,n=require("react"),d=e(n),o=require("@bobliao/use-jquery-hook"),a=e(o),r=require("react-helmet");!function(e){e.AUTO="auto",e.WIDTH="width",e.HEIGHT="height"}(t||(t={})),function(e){e.HORIZONTAL="h",e.VERTICAL="v"}(i||(i={}));var s=function(e,t){var i=this;this.defaultOptions={fontSize:14,designWidth:1360,designHeight:755,scaleLimit:{enable:!1,maxWidth:1360,minWidth:800,maxHeight:755,minHeight:600},hCallBack:function(){},vCallBack:function(){},mode:"auto",debounceTime:500};var n=function e(t,i){for(var n in t=t||{},i)t[n]="object"==typeof i[n]?e(t[n],i[n]):i[n];return t};e=n(this.defaultOptions,e),this.fontSize=e.fontSize,this.computedFontSize=0,this.designWidth=e.designWidth,this.designHeight=e.designHeight,this.hCallBack=e.hCallBack,this.vCallBack=e.vCallBack,this.scaleLimit=e.scaleLimit,this.debounceTime=e.debounceTime,this.mode=e.mode,this.state="",this.init=function(e){this.adaptVP({uWidth:this.designWidth}),this.adpRem(),void 0!==e&&e()},this.rebind=function(e,t){e=n(this.defaultOptions,e),this.fontSize=e.fontSize,this.designWidth=e.designWidth,this.designHeight=e.designHeight,this.hCallBack=e.hCallBack,this.vCallBack=e.vCallBack,this.scaleLimit=e.scaleLimit,this.mode=e.mode,this.state="",this.init((function(){"undefined"!=typeof _callback&&t()}))},this.reInit=function(){for(var e=[],n=0;n<t.queryList.length;n++){var d=t.queryList[n],o=!1;d.mediaQuery.screenState===i.state&&(o=!0),o&&e.push(d)}var a=window.document.documentElement.clientWidth,r=window.document.documentElement.clientHeight;if(0!==e.length)if(1===e.length)i.rebind(e[0].mediaQuery.config);else{var s=null;for(n=0;n<e.length;n++){var u=e[n];if(void 0!==u.mediaQuery.scope){if(u.mediaQuery.scope.startWidth<=a&&getEnd(u.mediaQuery.scope.endWidth)>a&&u.mediaQuery.scope.startHeight<=r&&getEnd(u.mediaQuery.scope.endHeight)>r){s=u;break}}else s=u}i.rebind(s.mediaQuery.config)}},this.adpRem=function(){var e,n,d,o,a,r;e=document,n=window,d=e.documentElement,o="orientationchange"in window?"orientationchange":"resize",a=function(){var e=d.clientWidth,n=d.clientHeight;if(!0===i.scaleLimit.enable&&(e>i.scaleLimit.maxWidth&&(e=i.scaleLimit.maxWidth),e<i.scaleLimit.minWidth&&(e=i.scaleLimit.minWidth),n>i.scaleLimit.maxHeight&&(n=i.scaleLimit.maxHeight),n<i.scaleLimit.minHeight&&(n=i.scaleLimit.minHeight)),e>n){if(void 0!==t&&t.hasOwnProperty("queryList")&&"h"!==i.state&&""!==i.state)return i.state="h",void i.reInit();i.state="h",i.hCallBack(i)}else{if(void 0!==t&&t.hasOwnProperty("queryList")&&"v"!==i.state&&""!==i.state)return i.state="v",void i.reInit();i.state="v",i.vCallBack(i)}if(e){var o=0,a=function(){o=i.fontSize*(e/i.designWidth)},r=function(){o=i.fontSize*(n/i.designHeight)};"auto"===i.mode?i.designWidth/i.designHeight<e/n?r():a():"width"===i.mode?a():"height"===i.mode&&r(),document.documentElement.style.fontSize=o.toFixed(1)+"px",i.computedFontSize=Number(o.toFixed(1))}},r=function(){i.debounceSetFontSize(a)},e.addEventListener&&(n.addEventListener(o,r,!1),e.addEventListener("DOMContentLoaded",r,!1),i.distory=function(){clearTimeout(i.debounceTimeOut),n.removeEventListener(o,r),e.removeEventListener("DOMContentLoaded",r)},r())},this.debounceTimeOut=null,this.debounceSetFontSize=function(e){null!==this.debounceTimeOut&&clearTimeout(this.debounceTimeOut),this.debounceTime<=0?e():(null===this.debounceTimeOut&&e(),this.debounceTimeOut=setTimeout((function(){e(),i.debounceTimeOut=null}),this.debounceTime))},this.adaptVP=function(e){var t,n=document.querySelector("meta[name='viewport']");if(e){var d={uWidth:0,dWidth:0,ratio:1,mode:"apple",userAgent:null,bConsole:!1};d.uWidth=e.uWidth?e.uWidth:640,d.dWidth=e.dWidth?e.dWidth:window.screen.width||window.screen.availWidth,d.ratio=window.devicePixelRatio?window.devicePixelRatio:1,d.userAgent=navigator.userAgent,d.bConsole=!!e.bConsole&&e.bConsole,e.mode?d.mode=e.mode:d.userAgent.match(/Android/i)&&(d.mode="android-2.2",(t=d.userAgent.match(/Android\s(\d+.\d+)/i))&&(t=parseFloat(t[1])),2.2==t||2.3==t?d.mode="android-2.2":4.4>t?d.mode="android-dpi":t>=4.4&&(d.mode=d.dWidth>d.uWidth?"android-dpi":"android-scale")),function(){var t,o,a,r="",s=!1;switch(-1!==d.userAgent.indexOf("Pixel")&&(d.mode="apple"),d.mode){case"apple":r="width="+i.designWidth+", user-scalable=no, user-scalable=0";break;case"android-2.2":e.dWidth||(d.dWidth=2==d.ratio?720:1.5==d.ratio?480:1==d.ratio?320:.75==d.ratio?240:480),320==(t=window.screen.width||window.screen.availWidth)?d.dWidth=d.ratio*t:640>t&&(d.dWidth=t),d.mode="android-dpi",s=!0;case"android-dpi":r=" width="+d.uWidth+", user-scalable=no",s&&(d.mode="android-2.2");break;case"android-scale":r="width="+d.uWidth+", user-scalable=no"}null!==n?n.content=r:((o=document.querySelector("meta[name='viewport']")||document.createElement("meta")).name="viewport",o.content=r,(a=document.getElementsByTagName("head")).length>0&&a[0].appendChild(o))}(),d.bConsole&&function(){for(key in d)key,key}()}}},u=require("code-stringify"),c=n.createContext({});!function(e){e.HORIZONTAL="h",e.VERTICAL="v"}(exports.EscreenState||(exports.EscreenState={})),function(e){e.AUTO="auto",e.WIDTH="width",e.HEIGHT="height"}(exports.EresoMode||(exports.EresoMode={})),exports._mobileAdp=s,exports.resoContext=c,exports.useReso=function(e){void 0===e&&(e={fontSize:14,designWidth:1360,designHeight:755,scaleLimit:{enable:!1,maxWidth:1360,minWidth:800,maxHeight:755,minHeight:600},hCallBack:function(){},vCallBack:function(){},mode:t.AUTO});var c=a(),h=n.useState(i.HORIZONTAL),l=h[0],m=h[1],f=function(t,i){var n,a,c=s,h=new s(t,e),m="";return o.isRunningInServer?(m="\n                            window.__m_adp__ = "+u(c)+";\n\n                            var _adp_config = "+JSON.stringify(e)+';\n                            \n                            if (_adp_config.hasOwnProperty("queryList")) {\n                                var clientWidth = window.document.documentElement.clientWidth;\n                                var windowHeight = window.document.documentElement.clientHeight;\n                                var testState = "h";\n                                if (clientWidth > windowHeight) {\n                                    testState = "h";\n                                } else {\n                                    testState = "v";\n                                }\n                                for (var i = 0; i < _adp_config.queryList.length; i++) {\n                                    var _item = _adp_config.queryList[i];\n                                    var _index = i;\n                                    var isCondition = false;\n                                    if (_item.mediaQuery.screenState === testState) {\n                                        isCondition = true;\n                                    }\n                                    if (isCondition) {\n\t\t\t\t\t\t\t\t\t\t_item.mediaQuery.config.debounceTime = 0;\n                                        window._a_d_p_d = new __m_adp__(_item.mediaQuery.config,_adp_config);\n                                        window._a_d_p_d.init();\n                                        break;\n                                    }\n                                }\n                            }else{\n\t\t\t\t\t\t\t\t_adp_config.debounceTime = 0;\n                                window._a_d_p_d = new __m_adp__(_adp_config);\n                                window._a_d_p_d.init();\n                            }\n                        ',a=d.createElement("script",{id:"_a_d_p_"},m),n=d.createElement(r.Helmet,null,a)):(void 0!==window._a_d_p_d&&void 0!==window._a_d_p_d.distory&&window._a_d_p_d.distory(),h.init()),{data:{helTags:n,elemsnts:a,scriptStr:m},funcs:h,screenState:l,width:h.designWidth,height:h.designHeight,fontSize:h.computedFontSize}},g=function(e){return-1===e?9999999999:e},_=1920,p=1080,w=i.HORIZONTAL;w=_>p?i.HORIZONTAL:i.VERTICAL;var v=function(e){_=window.document.documentElement.clientWidth,p=window.document.documentElement.clientHeight,w=_>p?i.HORIZONTAL:i.VERTICAL,!0===e&&m(w)};if(!o.isRunningInServer){var y=function(){v(!0)};n.useEffect((function(){return c(window).resize(y),v(!0),function(){c(window).unbind("resize",y)}}),[]),v(!1)}if(e.hasOwnProperty("queryList")){if(e=e,o.isRunningInServer)return f(e.queryList[0].mediaQuery.config);void 0!==window._a_d_p_d&&void 0!==window._a_d_p_d.distory&&window._a_d_p_d.distory();for(var W=null,b=[],L=0;L<e.queryList.length;L++){var H=e.queryList[L],T=!1;H.mediaQuery.screenState===w&&(T=!0),T&&b.push(H)}if(0!==b.length)if(1===b.length)W=f(b[0].mediaQuery.config);else{var S=null;for(L=0;L<b.length;L++){var O=b[L];if(void 0!==O.mediaQuery.scope){if(O.mediaQuery.scope.startWidth<=_&&g(O.mediaQuery.scope.endWidth)>_&&O.mediaQuery.scope.startHeight<=p&&g(O.mediaQuery.scope.endHeight)>p){S=O;break}}else S=O}W=f(S.mediaQuery.config)}return W}return f(e)},exports.useResoContext=function(){return n.useContext(c)};
//# sourceMappingURL=reso-hook.cjs.production.min.js.map
