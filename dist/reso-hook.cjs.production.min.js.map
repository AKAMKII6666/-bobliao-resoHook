{"version":3,"file":"reso-hook.cjs.production.min.js","sources":["../src/iReso.ts","../src/mobileAdp.js","../src/resoHook.tsx","../src/index.ts"],"sourcesContent":["import { ReactElement } from 'react';\n/**\n * useReso 钩子返回的东西\n */\nexport interface Ireso {\n  /**\n   * 数据\n   */\n  data: {\n    /**\n     * 用于服务器端渲染时,进行分辨率预计算的写入元素\n     */\n    helTags: ReactElement;\n    /**\n     * 剥离了Helmet的版本\n     */\n    elemsnts: ReactElement;\n    /*\n     *脚本纯字符串\n     */\n    scriptStr: string;\n  };\n  /**\n   * 返回初始化好的mobileAdp对象\n   */\n  funcs: any;\n  /**\n   * 屏幕状态\n   */\n  screenState: EscreenState;\n  width: string | number;\n  height: string | number;\n  fontSize: string | number;\n}\n\n/**\n * 设置分辨率适配器的工作模式\n */\nexport enum EresoMode {\n  /**\n   * auto:自动选择高度还是宽度来调整\n   */\n  AUTO = 'auto',\n  /**\n   * width:只通过宽度调整\n   */\n  WIDTH = 'width',\n  /**\n   * height:只通过高度调整\n   */\n  HEIGHT = 'height',\n}\n\n/**\n * 用于分辨率适配器的参数\n */\nexport interface Iconfig {\n  /**\n   * 页面字体基准\n   */\n  fontSize: number;\n  /**\n   * 设计稿的宽度\n   */\n  designWidth: number;\n  /**\n   * 设计稿的高度\n   */\n  designHeight: number;\n  /**\n   * 缩放限制参数\n   * 用于限制页面的缩放大小\n   */\n  scaleLimit?: {\n    /**\n     * 是否打开缩放限制\n     */\n    enable: boolean;\n    /**\n     * 最大的宽度限制\n     */\n    maxWidth?: number;\n    /**\n     * 最小的宽度限制\n     */\n    minWidth?: number;\n    /**\n     * 最大的高度\n     */\n    maxHeight?: number;\n    /**\n     * 最小的高度\n     */\n    minHeight?: number;\n  };\n  /**\n   * 横屏回调函数\n   */\n  hCallBack?: Function;\n  /**\n   * 竖屏回调函数\n   */\n  vCallBack?: Function;\n  /**\n   * 调整模式\n   */\n  mode?: EresoMode;\n  /**\n   * 防抖时间\n   */\n  debounceTime?: number;\n  //viewPort配置\n  viewPort?: {\n    //auto | config | off\n    //模式，auto为打开viewport配置，但是自动适配\n    //config为按照配置指定viewport参数\n    //off为关闭\n    mode?: 'auto' | 'config' | 'off';\n    width?: string;\n    initialScale?: string;\n    userScalable?: 'yes' | 'no';\n  };\n  //是否根据浏览器的缩放设置调整大小\n  is_relate_with_devicePixelRatio?: boolean;\n}\n\n/**\n * 用于分辨率适配器的参数\n * 多参数适配\n */\nexport interface IconfigMutiple {\n  /**\n   * 查询条件\n   */\n  queryList: Array<Imq>;\n}\n\nexport interface Imq {\n  /**\n   * 查询当前窗体的宽度例如\n   * '(min-width: 1824px)'\n   * '(max-width: 1224px)'\n   * 符合条件的就使用config来进行适配\n   */\n  mediaQuery: {\n    /**\n     * 查询条件\n     */\n    screenState: EscreenState;\n    /**\n     *是否进入条件后锁定该条件，之后条件再变动也不动?\n     */\n    lock?: boolean;\n    /**\n     * 范围控制\n     */\n    scope?: queryItem;\n    /**\n     * 适配参数\n     */\n    config: Iconfig;\n  };\n}\n\n/**\n * 屏幕状态\n */\nexport enum EscreenState {\n  /**\n   * 横向屏幕\n   */\n  HORIZONTAL = 'h',\n  /**\n   * 竖屏显示\n   */\n  VERTICAL = 'v',\n}\n\n/**\n * 屏幕比例适配\n */\nexport interface queryItem {\n  /**\n   * 开始宽度\n   */\n  startWidth: number;\n  /**\n   * 结束宽度\n   * -1表示无限大\n   */\n  endWidth: number;\n  /**\n   * 开始高度\n   */\n  startHeight: number;\n  /**\n   * 结束高度\n   * -1表示无限大\n   */\n  endHeight: number;\n}\n","/*!\n * mobileAdp.js\n * (c) 2015-2024 bobliao\n * Released under the MIT License.\n */\n\n/*\n * 移动端界面比例适配器\n * 廖力编写\n * 2021年总汇版本\n * 本适配器可以不依赖任何库直接运行\n * 建议在页面加载进来的第一时间完成适配\n * 免得界面渲染完成后再适配引起页面抖动\n */\nconst _mobileAdp = function(_options, _mOptions) {\n  var self = this;\n\n  this.defaultOptions = {\n    //页面字体基准是14像素\n    fontSize: 14,\n    //设计稿宽度/高度\n    designWidth: 1360,\n    designHeight: 755,\n    //缩放限制参数\n    //用于限制页面的缩放大小\n    scaleLimit: {\n      enable: false,\n      maxWidth: 1360,\n      minWidth: 800,\n      maxHeight: 755,\n      minHeight: 600,\n    },\n    //横屏回调函数\n    hCallBack: function() {},\n    //竖屏回调函数\n    vCallBack: function() {},\n    //调整模式\n    //auto:自动选择高度还是宽度来调整\n    //width:只通过宽度调整\n    //height:只通过高度调整\n    mode: 'auto',\n    //防抖时间\n    debounceTime: 500,\n    //viewPort配置\n    viewPort: {\n      //auto | config | off\n      //模式，auto为打开viewport配置，但是自动适配\n      //config为按照配置指定viewport参数\n      //off为关闭\n      mode: 'auto',\n      width: 'device-width',\n      initialScale: '1.0',\n      userScalable: 'yes',\n    },\n    //是否根据浏览器的缩放设置调整大小\n    is_relate_with_devicePixelRatio: false,\n  };\n\n  //拷贝函数\n  var extend = function(target, source) {\n    target = target || {};\n    for (var prop in source) {\n      if (typeof source[prop] === 'object') {\n        target[prop] = extend(target[prop], source[prop]);\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n    return target;\n  };\n\n  _options = extend(this.defaultOptions, _options);\n\n  //rem相对字体大小起始大小\n  //单位像素\n  this.fontSize = _options.fontSize;\n  this.computedFontSize = 0;\n  this.orgFontSize_widthOutRatoComput = 0;\n  //设计稿宽度\n  this.designWidth = _options.designWidth;\n  //设计稿高度\n  this.designHeight = _options.designHeight;\n\n  //横屏回调函数\n  this.hCallBack = _options.hCallBack;\n\n  //竖屏回调函数\n  this.vCallBack = _options.vCallBack;\n\n  //大小限制选项\n  this.scaleLimit = _options.scaleLimit;\n\n  //防抖时间\n  this.debounceTime = _options.debounceTime;\n\n  ///调整模式\n  //auto:自动选择高度还是宽度来调整\n  //width:只通过宽度调整\n  //height:只通过高度调整,\n  this.mode = _options.mode;\n\n  this.is_relate_with_devicePixelRatio =\n    _options.is_relate_with_devicePixelRatio;\n\n  //指示当前是横屏还是竖屏\n  this.state = '';\n\n  //当前viewPort配置\n  this.viewPortSettings = _options.viewPort;\n\n  //初始化\n  this.init = function(_callback) {\n    //先适配viewPort\n    this.adaptVP({ uWidth: this.designWidth });\n    //然后再适配rem\n    this.adpRem();\n\n    if (typeof _callback !== 'undefined') {\n      _callback();\n    }\n  };\n\n  //重新调整\n  this.rebind = function(_options, _callBack) {\n    _options = extend(this.defaultOptions, _options);\n    //rem相对字体大小起始大小\n    //单位像素\n    this.fontSize = _options.fontSize;\n    //设计稿宽度\n    this.designWidth = _options.designWidth;\n    //设计稿高度\n    this.designHeight = _options.designHeight;\n\n    //横屏回调函数\n    this.hCallBack = _options.hCallBack;\n\n    //竖屏回调函数\n    this.vCallBack = _options.vCallBack;\n\n    //大小限制选项\n    this.scaleLimit = _options.scaleLimit;\n\n    ///调整模式\n    //auto:自动选择高度还是宽度来调整\n    //width:只通过宽度调整\n    //height:只通过高度调整,\n    this.mode = _options.mode;\n\n    //指示当前是横屏还是竖屏\n    this.state = '';\n    this.init(function() {\n      if (typeof _callback !== 'undefined') {\n        _callBack();\n      }\n    });\n  };\n\n  /**\n   * 重新初始化\n   */\n  this.reInit = function() {\n    var findedResoList = [];\n    for (var i = 0; i < _mOptions.queryList.length; i++) {\n      var _item = _mOptions.queryList[i];\n      var isCondition = false;\n      if (_item.mediaQuery.screenState === self.state) {\n        isCondition = true;\n      }\n      if (isCondition) {\n        findedResoList.push(_item);\n      }\n    }\n    if (isCondition) {\n      _item.mediaQuery.config;\n    }\n    var clientWidth = window.document.documentElement.clientWidth;\n    var windowHeight = window.document.documentElement.clientHeight;\n\n    let getEnd = function(_ed) {\n      if (_ed === -1) {\n        return 9999999999;\n      } else {\n        return _ed;\n      }\n    };\n\n    if (typeof window['_a_d_p_d_lockConfig'] !== 'undefined') {\n      findedResoList = [window['_a_d_p_d_lockConfig']];\n    }\n\n    if (findedResoList.length !== 0) {\n      if (findedResoList.length === 1) {\n        self.rebind(findedResoList[0].mediaQuery.config);\n      } else {\n        var last = null;\n        for (var i = 0; i < findedResoList.length; i++) {\n          var citem = findedResoList[i];\n          if (typeof citem.mediaQuery.scope !== 'undefined') {\n            if (\n              citem.mediaQuery.scope.startWidth <= clientWidth &&\n              getEnd(citem.mediaQuery.scope.endWidth) > clientWidth &&\n              citem.mediaQuery.scope.startHeight <= windowHeight &&\n              getEnd(citem.mediaQuery.scope.endHeight) > windowHeight\n            ) {\n              last = citem;\n              break;\n            }\n          } else {\n            last = citem;\n          }\n        }\n        self.rebind(last.mediaQuery.config);\n      }\n    }\n  };\n\n  //适配rem算法\n  //这个算法还保留在以前的代码里\n  //这个的话最早可以追溯到2016年\n  this.adpRem = function() {\n    //适配rem的算法\n    (function(doc, win) {\n      var docEl = doc.documentElement,\n        resizeEvt =\n          'orientationchange' in window ? 'orientationchange' : 'resize',\n        recalc = function() {\n          //document.body.style.display = \"none\";\n          var clientWidth = docEl.clientWidth;\n          var windowHeight = docEl.clientHeight;\n          //document.body.style.display = \"\";\n\n          //应用大小限制选项\n          if (self.scaleLimit.enable === true) {\n            if (clientWidth > self.scaleLimit.maxWidth) {\n              clientWidth = self.scaleLimit.maxWidth;\n            }\n            if (clientWidth < self.scaleLimit.minWidth) {\n              clientWidth = self.scaleLimit.minWidth;\n            }\n            if (windowHeight > self.scaleLimit.maxHeight) {\n              windowHeight = self.scaleLimit.maxHeight;\n            }\n            if (windowHeight < self.scaleLimit.minHeight) {\n              windowHeight = self.scaleLimit.minHeight;\n            }\n          }\n\n          if (typeof window['_a_d_p_d_lockConfig'] === 'undefined') {\n            if (clientWidth > windowHeight) {\n              if (\n                typeof _mOptions !== 'undefined' &&\n                _mOptions.hasOwnProperty('queryList')\n              ) {\n                if (self.state !== 'h' && self.state !== '') {\n                  self.state = 'h';\n                  self.reInit();\n                  return;\n                }\n              }\n\n              self.state = 'h';\n              self.hCallBack(self);\n            } else {\n              if (\n                typeof _mOptions !== 'undefined' &&\n                _mOptions.hasOwnProperty('queryList')\n              ) {\n                if (self.state !== 'v' && self.state !== '') {\n                  self.state = 'v';\n                  self.reInit();\n                  return;\n                }\n              }\n              self.state = 'v';\n              self.vCallBack(self);\n            }\n          }\n\n          var compTarget = null;\n          if (!clientWidth) return;\n          //原始比例\n          var orgPre = self.designWidth / self.designHeight;\n          var currPre = clientWidth / windowHeight;\n          var res = 0;\n\n          var adWidth = function() {\n            //console.log('用宽度调整字体')\n            compTarget = clientWidth;\n            //计算设计字体大小和实际字体大小的比例关系\n            res = self.fontSize * (compTarget / self.designWidth);\n          };\n\n          var adHeight = function() {\n            //console.log('用高度调整字体')\n            compTarget = windowHeight;\n            //计算设计字体大小和实际字体大小的比例关系\n            res = self.fontSize * (compTarget / self.designHeight);\n          };\n\n          if (self.mode === 'auto') {\n            if (orgPre < currPre) {\n              adHeight();\n            } else {\n              adWidth();\n            }\n          } else if (self.mode === 'width') {\n            adWidth();\n          } else if (self.mode === 'height') {\n            adHeight();\n          }\n\n          var fSize = Number((res * self.getDevicePixelRatio()).toFixed(1));\n          //在计算过程中，加入页面缩放的数值\n          document.documentElement.style.fontSize = fSize + 'px';\n          self.computedFontSize = fSize;\n          self.orgFontSize_widthOutRatoComput = Number(res.toFixed(1));\n        };\n\n      let resizeF = function() {\n        self.debounceSetFontSize(recalc);\n      };\n      /*\n            window.onload = recalc;\n            */\n      if (!doc.addEventListener) return;\n      win.addEventListener(resizeEvt, resizeF, false);\n      doc.addEventListener('DOMContentLoaded', resizeF, false);\n      self.distory = function() {\n        clearTimeout(self.debounceTimeOut);\n        win.removeEventListener(resizeEvt, resizeF);\n        doc.removeEventListener('DOMContentLoaded', resizeF);\n      };\n      resizeF();\n    })(document, window);\n  };\n\n  this.debounceTimeOut = null;\n\n  /* \n \t用于计算当前显示比例和浏览器放大倍率的关联 \n  */\n  this.getDevicePixelRatio = function() {\n    if (\n      this.is_relate_with_devicePixelRatio &&\n      typeof window !== 'undefined' &&\n      typeof window.devicePixelRatio !== 'undefined'\n    ) {\n      return Number((window.outerWidth / window.innerWidth).toFixed(2));\n    }\n    return 1;\n  };\n\n  /**\n   * 设置字体大小的时候进行防抖处理\n   *  */\n  this.debounceSetFontSize = function(_recalc) {\n    if (this.debounceTimeOut !== null) {\n      clearTimeout(this.debounceTimeOut);\n    }\n    if (this.debounceTime <= 0) {\n      _recalc();\n    } else {\n      if (this.debounceTimeOut === null) {\n        _recalc();\n      }\n      this.debounceTimeOut = setTimeout(function() {\n        _recalc();\n        self.debounceTimeOut = null;\n      }, this.debounceTime);\n    }\n  };\n\n  //适配viewPort\n  //这是一个相当古老的算法了\n  //最早可以追溯到2015年\n  //原版算法已经找不到了\n  //最后只找到了这个被压缩后的版本\n  this.adaptVP = function(d) {\n    var vpObj = document.querySelector(\"meta[name='viewport']\");\n    //关闭viewport适配\n    if (this.viewPortSettings.mode === 'off') {\n      if (vpObj !== null) {\n        vpObj.remove();\n      }\n      return;\n    }\n    //打开viewPort适配但是手动适配\n    if (this.viewPortSettings.mode === 'config') {\n      var vpContent =\n        'width=' +\n        this.viewPortSettings.width +\n        ', initial-scale=' +\n        this.viewPortSettings.initialScale +\n        ',user-scalable=' +\n        this.viewPortSettings.userScalable;\n      if (vpObj !== null) {\n        vpObj.content = vpContent;\n      } else {\n        t =\n          document.querySelector(\"meta[name='viewport']\") ||\n          document.createElement('meta');\n        t.name = 'viewport';\n        t.content = vpContent;\n        a = document.getElementsByTagName('head');\n        if (a.length > 0) {\n          a[0].appendChild(t);\n        }\n      }\n      return;\n    }\n    /* \n    if (vpObj !== null) {\n      var width = '';\n      var arrVp = vpObj.content.split(',');\n      for (let i = 0; i < arrVp.length; i++) {\n        var item = arrVp[i].split('=');\n        if (item[0] === 'width') {\n          width = item[1];\n          break;\n        }\n      }\n\n      if (width === d) {\n        return;\n      }\n    } */\n    function e() {\n      var e, i;\n      return (\n        (o.uWidth = d.uWidth ? d.uWidth : 640),\n        (o.dWidth = d.dWidth\n          ? d.dWidth\n          : window.screen.width || window.screen.availWidth),\n        (o.ratio = window.devicePixelRatio ? window.devicePixelRatio : 1),\n        (o.userAgent = navigator.userAgent),\n        (o.bConsole = d.bConsole ? d.bConsole : !1),\n        d.mode\n          ? void (o.mode = d.mode)\n          : ((e = o.userAgent.match(/Android/i)),\n            void (\n              e &&\n              ((o.mode = 'android-2.2'),\n              (i = o.userAgent.match(/Android\\s(\\d+.\\d+)/i)),\n              i && (i = parseFloat(i[1])),\n              2.2 == i || 2.3 == i\n                ? (o.mode = 'android-2.2')\n                : 4.4 > i\n                ? (o.mode = 'android-dpi')\n                : i >= 4.4 &&\n                  (o.mode =\n                    o.dWidth > o.uWidth ? 'android-dpi' : 'android-scale'))\n            ))\n      );\n    }\n    function getContent() {\n      var e,\n        i,\n        t,\n        a,\n        n = '',\n        r = !1;\n      if (o.userAgent.indexOf('Pixel') !== -1) {\n        o.mode = 'apple';\n      }\n      switch (o.mode) {\n        case 'apple':\n          n =\n            'width=' + self.designWidth + ', user-scalable=no, user-scalable=0';\n          break;\n        case 'android-2.2':\n          d.dWidth ||\n            (o.dWidth =\n              2 == o.ratio\n                ? 720\n                : 1.5 == o.ratio\n                ? 480\n                : 1 == o.ratio\n                ? 320\n                : 0.75 == o.ratio\n                ? 240\n                : 480),\n            (e = window.screen.width || window.screen.availWidth),\n            320 == e ? (o.dWidth = o.ratio * e) : 640 > e && (o.dWidth = e),\n            (o.mode = 'android-dpi'),\n            (r = !0);\n        case 'android-dpi':\n          (i = ((160 * o.uWidth) / o.dWidth) * o.ratio),\n            (n = ' width=' + o.uWidth + ', user-scalable=no'),\n            r && (o.mode = 'android-2.2');\n          break;\n        case 'android-scale':\n          i = ((160 * o.uWidth) / o.dWidth) * o.ratio;\n          n = 'width=' + o.uWidth + ', user-scalable=no';\n      }\n\n      if (vpObj !== null) {\n        vpObj.content = n;\n      } else {\n        t =\n          document.querySelector(\"meta[name='viewport']\") ||\n          document.createElement('meta');\n        t.name = 'viewport';\n        t.content = n;\n        a = document.getElementsByTagName('head');\n        if (a.length > 0) {\n          a[0].appendChild(t);\n        }\n      }\n    }\n    function t() {\n      var d = '';\n      for (key in o) {\n        d += key + ': ' + o[key] + '; ';\n      }\n      //alert(d);\n    }\n    if (d) {\n      var o = {\n        uWidth: 0,\n        dWidth: 0,\n        ratio: 1,\n        mode: 'apple',\n        userAgent: null,\n        bConsole: !1,\n      };\n      e(), getContent(), o.bConsole && t();\n    }\n  };\n};\n\nexport { _mobileAdp };\n","/**\n * 本文件为分辨率适配钩子\n * 廖力编写 2022/03/28\n */\nimport React, { useState, useEffect, createContext, useContext } from 'react';\nimport { ReactElement } from 'react';\nimport {\n  Iconfig,\n  EresoMode,\n  Ireso,\n  IconfigMutiple,\n  Imq,\n  EscreenState,\n} from './iReso';\nimport { _mobileAdp } from './mobileAdp';\nimport useJquery, { isRunningInServer } from '@bobliao/use-jquery-hook';\nimport { Helmet } from 'react-helmet';\n//import requireContext from 'require-context.macro';\nimport codeStringify from 'code-stringify';\n\nexport type config = Iconfig | IconfigMutiple;\n\n/**\n * 创建一个需要全局使用的context\n **/\nconst resoContext = createContext<Ireso>({} as Ireso);\n\nconst useReso = function(\n  config: config = {\n    //页面字体基准是14像素\n    fontSize: 14,\n    //设计稿宽度/高度\n    designWidth: 1360,\n    designHeight: 755,\n    //缩放限制参数\n    //用于限制页面的缩放大小\n    scaleLimit: {\n      enable: false,\n      maxWidth: 1360,\n      minWidth: 800,\n      maxHeight: 755,\n      minHeight: 600,\n    },\n    //横屏回调函数\n    hCallBack: function() {},\n    //竖屏回调函数\n    vCallBack: function() {},\n    //调整模式\n    mode: EresoMode.AUTO,\n    //viewPort配置\n    viewPort: {\n      //auto | config | off\n      mode: 'auto',\n    },\n    is_relate_with_devicePixelRatio: false,\n  }\n): Ireso {\n  const $ = useJquery();\n  const [screenState, setscreenState] = useState<EscreenState>(\n    EscreenState.HORIZONTAL\n  );\n\n  /**\n   * 适配\n   */\n  const makeReso = function(_config, _testState) {\n    //let context = requireContext(\"../nativeComs/\", false, /mobileAdp.js/);\n    //let modul = context(\"./mobileAdp.js\");\n    let ___mobileAdp = _mobileAdp;\n    let mobileAdp: any = new _mobileAdp(_config, config);\n    let helTags: ReactElement;\n    let injectElements: ReactElement;\n    let scrStr: string = '';\n    if (!isRunningInServer) {\n      //如果是运行在客户端上面就直接初始化\n      if (typeof window['_a_d_p_d'] !== 'undefined') {\n        if (typeof window['_a_d_p_d']['distory'] !== 'undefined') {\n          window['_a_d_p_d']['distory']();\n        }\n      }\n      mobileAdp.init();\n    } else {\n      /* let UglifyJS = require('uglify-js'); */\n      var codeString = codeStringify(___mobileAdp);\n\n      scrStr =\n        `\n                            window.__m_adp__ = ` +\n        codeString +\n        `;\n\n                            var _adp_config = ` +\n        JSON.stringify(config) +\n        `;\n                            \n                            if (_adp_config.hasOwnProperty(\"queryList\")) {\n                                var clientWidth = window.document.documentElement.clientWidth;\n                                var windowHeight = window.document.documentElement.clientHeight;\n                                var testState = \"h\";\n                                if (clientWidth > windowHeight) {\n                                    testState = \"h\";\n                                } else {\n                                    testState = \"v\";\n                                }\n                                for (var i = 0; i < _adp_config.queryList.length; i++) {\n                                    var _item = _adp_config.queryList[i];\n                                    var _index = i;\n                                    var isCondition = false;\n                                    if (_item.mediaQuery.screenState === testState) {\n                                        isCondition = true;\n                                    }\n                                    if (isCondition) {\n\t\t\t\t\t\t\t\t\t\t_item.mediaQuery.config.debounceTime = 0;\n                                        window._a_d_p_d = new __m_adp__(_item.mediaQuery.config,_adp_config);\n                                        window._a_d_p_d.init();\n                                        break;\n                                    }\n                                }\n                            }else{\n\t\t\t\t\t\t\t\t_adp_config.debounceTime = 0;\n                                window._a_d_p_d = new __m_adp__(_adp_config);\n                                window._a_d_p_d.init();\n                            }\n                        `;\n      /*       let code = { 'reso.js': scrStr };\n      scrStr = UglifyJS.minify(code).code; */\n      injectElements = <script id=\"_a_d_p_\">{scrStr}</script>;\n      //如果是运行在服务端上面就写入一段原生代码,让分辨率适配在网页加载的第一时间进行适配\n      //如果这里不进行适配,那么在网页加载的第一时间,客户端代码还没注入的时候,页面将会抽搐一下,\n      //等客户端代码完全运行完成后,页面分辨率才会被适配到适合的样子,加入这段代码后,页面在到达浏览器的第一时间就可以开始适配的分辨率\n      helTags = <Helmet>{injectElements}</Helmet>;\n    }\n    return {\n      data: { helTags: helTags, elemsnts: injectElements, scriptStr: scrStr },\n      funcs: mobileAdp,\n      screenState: screenState,\n      width: mobileAdp.designWidth,\n      height: mobileAdp.designHeight,\n      fontSize: mobileAdp.computedFontSize,\n      fontSize_org: mobileAdp.orgFontSize_widthOutRatoComput,\n      current_pixRato: (function() {\n        if (isRunningInServer) {\n          return 1;\n        } else {\n          return mobileAdp.getDevicePixelRatio();\n        }\n      })(),\n    };\n  };\n\n  var clientWidth: number = 1920;\n  var windowHeight: number = 1080;\n  var testState: EscreenState = EscreenState.HORIZONTAL;\n\n  if (clientWidth > windowHeight) {\n    testState = EscreenState.HORIZONTAL;\n  } else {\n    testState = EscreenState.VERTICAL;\n  }\n\n  const testStateFunc = function(_isSetState: boolean) {\n    clientWidth = window.document.documentElement.clientWidth;\n    windowHeight = window.document.documentElement.clientHeight;\n\n    if (clientWidth > windowHeight) {\n      testState = EscreenState.HORIZONTAL;\n    } else {\n      testState = EscreenState.VERTICAL;\n    }\n\n    if (\n      _isSetState === true &&\n      typeof window['_a_d_p_d_lockConfig'] !== 'undefined'\n    ) {\n      setscreenState(window['_a_d_p_d_lockConfig'].mediaQuery.screenState);\n    } else if (_isSetState === true) {\n      setscreenState(testState);\n    }\n  };\n\n  if (!isRunningInServer) {\n    const st = function() {\n      testStateFunc(true);\n    };\n    useEffect(function(): ReturnType<React.EffectCallback> {\n      $(window).resize(st);\n      testStateFunc(true);\n      return function(): void {\n        $(window).unbind('resize', st);\n      };\n    }, []);\n    testStateFunc(false);\n  }\n\n  let getEnd = function(_ed: number): number {\n    if (_ed === -1) {\n      return 9999999999;\n    } else {\n      return _ed;\n    }\n  };\n\n  /**\n   * 如果是多条参数适配\n   */\n  if (config.hasOwnProperty('queryList')) {\n    config = config as IconfigMutiple;\n    if (!isRunningInServer) {\n      if (typeof window['_a_d_p_d'] !== 'undefined') {\n        if (typeof window['_a_d_p_d']['distory'] !== 'undefined') {\n          window['_a_d_p_d']['distory']();\n        }\n      }\n\n      //如果在内存里找到已经缓存好的屏幕状态配置，就直接使用这个配置，不要重新适配\n      if (typeof window['_a_d_p_d_lockConfig'] !== 'undefined') {\n        return makeReso(\n          window['_a_d_p_d_lockConfig'].mediaQuery.config,\n          window['_a_d_p_d_lockConfig'].mediaQuery.screenState\n        );\n      }\n\n      var result: any = null;\n      var findedResoList: Array<Imq> = [];\n      for (var i = 0; i < config.queryList.length; i++) {\n        var _item: Imq = config.queryList[i];\n        var isCondition: boolean = false;\n        if (_item.mediaQuery.screenState === testState) {\n          isCondition = true;\n          //是否锁定到该条件\n          if (_item.mediaQuery.lock === true) {\n            window['_a_d_p_d_lockConfig'] = _item;\n          }\n        }\n        if (isCondition) {\n          findedResoList.push(_item);\n        }\n      }\n      if (findedResoList.length !== 0) {\n        if (findedResoList.length === 1) {\n          result = makeReso(findedResoList[0].mediaQuery.config, testState);\n        } else {\n          var last: Imq = null;\n          for (var i = 0; i < findedResoList.length; i++) {\n            var citem: Imq = findedResoList[i];\n            if (typeof citem.mediaQuery.scope !== 'undefined') {\n              if (\n                citem.mediaQuery.scope.startWidth <= clientWidth &&\n                getEnd(citem.mediaQuery.scope.endWidth) > clientWidth &&\n                citem.mediaQuery.scope.startHeight <= windowHeight &&\n                getEnd(citem.mediaQuery.scope.endHeight) > windowHeight\n              ) {\n                last = citem;\n                break;\n              }\n            } else {\n              last = citem;\n            }\n          }\n          result = makeReso(last.mediaQuery.config, testState);\n        }\n      }\n\n      return result;\n    } else {\n      return makeReso(config.queryList[0].mediaQuery.config, testState);\n    }\n  } else {\n    return makeReso(config, testState);\n  }\n};\n\nlet useResoContext = function(): Ireso {\n  var r: Ireso = useContext(resoContext);\n  return r;\n};\n\nexport { useReso as default, _mobileAdp, resoContext, useResoContext };\n","import useReso, { _mobileAdp,resoContext, useResoContext } from './resoHook';\nexport type { Ireso, Iconfig, IconfigMutiple, Imq, queryItem } from './iReso';\n/**\n * 屏幕状态\n */\nexport enum EscreenState {\n\t/**\n\t * 横向屏幕\n\t */\n\tHORIZONTAL = \"h\",\n\t/**\n\t * 竖屏显示\n\t */\n\tVERTICAL = \"v\",\n}\n\n/**\n * 设置分辨率适配器的工作模式\n */\nexport enum EresoMode {\n\t/**\n\t * auto:自动选择高度还是宽度来调整\n\t */\n\tAUTO = \"auto\",\n\t/**\n\t * width:只通过宽度调整\n\t */\n\tWIDTH = \"width\",\n\t/**\n\t * height:只通过高度调整\n\t */\n\tHEIGHT = \"height\",\n}\n\nexport { useReso, _mobileAdp,resoContext, useResoContext };\n"],"names":["EresoMode","EscreenState","_mobileAdp","_options","_mOptions","self","this","defaultOptions","fontSize","designWidth","designHeight","scaleLimit","enable","maxWidth","minWidth","maxHeight","minHeight","hCallBack","vCallBack","mode","debounceTime","viewPort","width","initialScale","userScalable","is_relate_with_devicePixelRatio","extend","target","source","prop","computedFontSize","orgFontSize_widthOutRatoComput","state","viewPortSettings","init","_callback","adaptVP","uWidth","adpRem","rebind","_callBack","reInit","findedResoList","i","queryList","length","_item","isCondition","mediaQuery","screenState","push","clientWidth","window","document","documentElement","windowHeight","clientHeight","getEnd","_ed","config","last","citem","scope","startWidth","endWidth","startHeight","endHeight","doc","win","docEl","resizeEvt","recalc","resizeF","hasOwnProperty","res","adWidth","adHeight","fSize","Number","getDevicePixelRatio","toFixed","style","debounceSetFontSize","addEventListener","distory","clearTimeout","debounceTimeOut","removeEventListener","devicePixelRatio","outerWidth","innerWidth","_recalc","setTimeout","d","vpObj","querySelector","o","dWidth","ratio","userAgent","bConsole","screen","availWidth","navigator","match","parseFloat","e","t","a","n","r","indexOf","content","createElement","name","getElementsByTagName","appendChild","getContent","vpContent","remove","key","resoContext","createContext","AUTO","$","useJquery","useState","HORIZONTAL","setscreenState","makeReso","_config","_testState","helTags","injectElements","___mobileAdp","mobileAdp","scrStr","isRunningInServer","codeStringify","JSON","stringify","React","id","Helmet","data","elemsnts","scriptStr","funcs","height","fontSize_org","current_pixRato","testState","VERTICAL","testStateFunc","_isSetState","st","useEffect","resize","unbind","result","lock","useContext"],"mappings":"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"}