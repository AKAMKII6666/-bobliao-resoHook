{"version":3,"file":"reso-hook.cjs.production.min.js","sources":["../src/iReso.ts","../src/mobileAdp.js","../src/mobileAdp_min.js","../src/resoHook.tsx","../src/index.ts"],"sourcesContent":["import { ReactElement } from 'react';\r\n/**\r\n * useReso 钩子返回的东西\r\n */\r\nexport interface Ireso {\r\n  /**\r\n   * 数据\r\n   */\r\n  data: {\r\n    /**\r\n     * 用于服务器端渲染时,进行分辨率预计算的写入元素\r\n     */\r\n    helTags: ReactElement;\r\n    /**\r\n     * 剥离了Helmet的版本\r\n     */\r\n    elemsnts: ReactElement;\r\n    /*\r\n     *脚本纯字符串\r\n     */\r\n    scriptStr: string;\r\n  };\r\n  /**\r\n   * 返回初始化好的mobileAdp对象\r\n   */\r\n  funcs: any;\r\n  /**\r\n   * 屏幕状态\r\n   */\r\n  screenState: EscreenState;\r\n  width: string | number;\r\n  height: string | number;\r\n  fontSize: string | number;\r\n}\r\n\r\n/**\r\n * 设置分辨率适配器的工作模式\r\n */\r\nexport enum EresoMode {\r\n  /**\r\n   * auto:自动选择高度还是宽度来调整\r\n   */\r\n  AUTO = 'auto',\r\n  /**\r\n   * width:只通过宽度调整\r\n   */\r\n  WIDTH = 'width',\r\n  /**\r\n   * height:只通过高度调整\r\n   */\r\n  HEIGHT = 'height',\r\n}\r\n\r\n/**\r\n * 用于分辨率适配器的参数\r\n */\r\nexport interface Iconfig {\r\n  /**\r\n   * 页面字体基准\r\n   */\r\n  fontSize: number;\r\n  /**\r\n   * 设计稿的宽度\r\n   */\r\n  designWidth: number;\r\n  /**\r\n   * 设计稿的高度\r\n   */\r\n  designHeight: number;\r\n  /**\r\n   * 缩放限制参数\r\n   * 用于限制页面的缩放大小\r\n   */\r\n  scaleLimit?: {\r\n    /**\r\n     * 是否打开缩放限制\r\n     */\r\n    enable: boolean;\r\n    /**\r\n     * 最大的宽度限制\r\n     */\r\n    maxWidth?: number;\r\n    /**\r\n     * 最小的宽度限制\r\n     */\r\n    minWidth?: number;\r\n    /**\r\n     * 最大的高度\r\n     */\r\n    maxHeight?: number;\r\n    /**\r\n     * 最小的高度\r\n     */\r\n    minHeight?: number;\r\n  };\r\n  /**\r\n   * 横屏回调函数\r\n   */\r\n  hCallBack?: Function;\r\n  /**\r\n   * 竖屏回调函数\r\n   */\r\n  vCallBack?: Function;\r\n  /**\r\n   * 调整模式\r\n   */\r\n  mode?: EresoMode;\r\n  /**\r\n   * 防抖时间\r\n   */\r\n  debounceTime?: number;\r\n  //viewPort配置\r\n  viewPort?: {\r\n    //auto | config | off\r\n    //模式，auto为打开viewport配置，但是自动适配\r\n    //config为按照配置指定viewport参数\r\n    //off为关闭\r\n    mode?: 'auto' | 'config' | 'off';\r\n    width?: string;\r\n    initialScale?: string;\r\n    userScalable?: 'yes' | 'no';\r\n  };\r\n  //是否根据浏览器的缩放设置调整大小\r\n  is_relate_with_devicePixelRatio?: boolean;\r\n}\r\n\r\n/**\r\n * 用于分辨率适配器的参数\r\n * 多参数适配\r\n */\r\nexport interface IconfigMutiple {\r\n  /**\r\n   * 查询条件\r\n   */\r\n  queryList: Array<Imq>;\r\n}\r\n\r\nexport interface Imq {\r\n  /**\r\n   * 查询当前窗体的宽度例如\r\n   * '(min-width: 1824px)'\r\n   * '(max-width: 1224px)'\r\n   * 符合条件的就使用config来进行适配\r\n   */\r\n  mediaQuery: {\r\n    /**\r\n     * 查询条件\r\n     */\r\n    screenState: EscreenState;\r\n    /**\r\n     *是否进入条件后锁定该条件，之后条件再变动也不动?\r\n     */\r\n    lock?: boolean;\r\n    /**\r\n     * 范围控制\r\n     */\r\n    scope?: queryItem;\r\n    /**\r\n     * 适配参数\r\n     */\r\n    config: Iconfig;\r\n  };\r\n}\r\n\r\n/**\r\n * 屏幕状态\r\n */\r\nexport enum EscreenState {\r\n  /**\r\n   * 横向屏幕\r\n   */\r\n  HORIZONTAL = 'h',\r\n  /**\r\n   * 竖屏显示\r\n   */\r\n  VERTICAL = 'v',\r\n}\r\n\r\n/**\r\n * 屏幕比例适配\r\n */\r\nexport interface queryItem {\r\n  /**\r\n   * 开始宽度\r\n   */\r\n  startWidth: number;\r\n  /**\r\n   * 结束宽度\r\n   * -1表示无限大\r\n   */\r\n  endWidth: number;\r\n  /**\r\n   * 开始高度\r\n   */\r\n  startHeight: number;\r\n  /**\r\n   * 结束高度\r\n   * -1表示无限大\r\n   */\r\n  endHeight: number;\r\n}\r\n","/*!\r\n * mobileAdp.js\r\n * (c) 2015-2024 bobliao\r\n * Released under the MIT License.\r\n */\r\n\r\n/*\r\n * 移动端界面比例适配器\r\n * 廖力编写\r\n * 2021年总汇版本\r\n * 本适配器可以不依赖任何库直接运行\r\n * 建议在页面加载进来的第一时间完成适配\r\n * 免得界面渲染完成后再适配引起页面抖动\r\n */\r\nconst _mobileAdp = function(_options, _mOptions) {\r\n  var self = this;\r\n\r\n  this.defaultOptions = {\r\n    //页面字体基准是14像素\r\n    fontSize: 14,\r\n    //设计稿宽度/高度\r\n    designWidth: 1360,\r\n    designHeight: 755,\r\n    //缩放限制参数\r\n    //用于限制页面的缩放大小\r\n    scaleLimit: {\r\n      enable: false,\r\n      maxWidth: 1360,\r\n      minWidth: 800,\r\n      maxHeight: 755,\r\n      minHeight: 600,\r\n    },\r\n    //横屏回调函数\r\n    hCallBack: function() {},\r\n    //竖屏回调函数\r\n    vCallBack: function() {},\r\n    //调整模式\r\n    //auto:自动选择高度还是宽度来调整\r\n    //width:只通过宽度调整\r\n    //height:只通过高度调整\r\n    mode: 'auto',\r\n    //防抖时间\r\n    debounceTime: 500,\r\n    //viewPort配置\r\n    viewPort: {\r\n      //auto | config | off\r\n      //模式，auto为打开viewport配置，但是自动适配\r\n      //config为按照配置指定viewport参数\r\n      //off为关闭\r\n      mode: 'auto',\r\n      width: 'device-width',\r\n      initialScale: '1.0',\r\n      userScalable: 'yes',\r\n    },\r\n    //是否根据浏览器的缩放设置调整大小\r\n    is_relate_with_devicePixelRatio: false,\r\n  };\r\n\r\n  //拷贝函数\r\n  var extend = function(target, source) {\r\n    target = target || {};\r\n    for (var prop in source) {\r\n      if (typeof source[prop] === 'object') {\r\n        target[prop] = extend(target[prop], source[prop]);\r\n      } else {\r\n        target[prop] = source[prop];\r\n      }\r\n    }\r\n    return target;\r\n  };\r\n\r\n  _options = extend(this.defaultOptions, _options);\r\n\r\n  //rem相对字体大小起始大小\r\n  //单位像素\r\n  this.fontSize = _options.fontSize;\r\n  this.computedFontSize = 0;\r\n  this.orgFontSize_widthOutRatoComput = 0;\r\n  //设计稿宽度\r\n  this.designWidth = _options.designWidth;\r\n  //设计稿高度\r\n  this.designHeight = _options.designHeight;\r\n\r\n  //横屏回调函数\r\n  this.hCallBack = _options.hCallBack;\r\n\r\n  //竖屏回调函数\r\n  this.vCallBack = _options.vCallBack;\r\n\r\n  //大小限制选项\r\n  this.scaleLimit = _options.scaleLimit;\r\n\r\n  //防抖时间\r\n  this.debounceTime = _options.debounceTime;\r\n\r\n  ///调整模式\r\n  //auto:自动选择高度还是宽度来调整\r\n  //width:只通过宽度调整\r\n  //height:只通过高度调整,\r\n  this.mode = _options.mode;\r\n\r\n  this.is_relate_with_devicePixelRatio =\r\n    _options.is_relate_with_devicePixelRatio;\r\n\r\n  //指示当前是横屏还是竖屏\r\n  this.state = '';\r\n\r\n  //当前viewPort配置\r\n  this.viewPortSettings = _options.viewPort;\r\n\r\n  //初始化\r\n  this.init = function(_callback) {\r\n    //先适配viewPort\r\n    this.adaptVP({ uWidth: this.designWidth });\r\n    //然后再适配rem\r\n    this.adpRem();\r\n\r\n    if (typeof _callback !== 'undefined') {\r\n      _callback();\r\n    }\r\n  };\r\n\r\n  //重新调整\r\n  this.rebind = function(_options, _callBack) {\r\n    _options = extend(this.defaultOptions, _options);\r\n    //rem相对字体大小起始大小\r\n    //单位像素\r\n    this.fontSize = _options.fontSize;\r\n    //设计稿宽度\r\n    this.designWidth = _options.designWidth;\r\n    //设计稿高度\r\n    this.designHeight = _options.designHeight;\r\n\r\n    //横屏回调函数\r\n    this.hCallBack = _options.hCallBack;\r\n\r\n    //竖屏回调函数\r\n    this.vCallBack = _options.vCallBack;\r\n\r\n    //大小限制选项\r\n    this.scaleLimit = _options.scaleLimit;\r\n\r\n    ///调整模式\r\n    //auto:自动选择高度还是宽度来调整\r\n    //width:只通过宽度调整\r\n    //height:只通过高度调整,\r\n    this.mode = _options.mode;\r\n\r\n    //指示当前是横屏还是竖屏\r\n    this.state = '';\r\n    this.init(function() {\r\n      if (typeof _callback !== 'undefined') {\r\n        _callBack();\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * 重新初始化\r\n   */\r\n  this.reInit = function() {\r\n    var findedResoList = [];\r\n    for (var i = 0; i < _mOptions.queryList.length; i++) {\r\n      var _item = _mOptions.queryList[i];\r\n      var isCondition = false;\r\n      if (_item.mediaQuery.screenState === self.state) {\r\n        isCondition = true;\r\n      }\r\n      if (isCondition) {\r\n        findedResoList.push(_item);\r\n      }\r\n    }\r\n    if (isCondition) {\r\n      _item.mediaQuery.config;\r\n    }\r\n    var clientWidth = window.document.documentElement.clientWidth;\r\n    var windowHeight = window.document.documentElement.clientHeight;\r\n\r\n    let getEnd = function(_ed) {\r\n      if (_ed === -1) {\r\n        return 9999999999;\r\n      } else {\r\n        return _ed;\r\n      }\r\n    };\r\n\r\n    if (typeof window['_a_d_p_d_lockConfig'] !== 'undefined') {\r\n      findedResoList = [window['_a_d_p_d_lockConfig']];\r\n    }\r\n\r\n    if (findedResoList.length !== 0) {\r\n      if (findedResoList.length === 1) {\r\n        self.rebind(findedResoList[0].mediaQuery.config);\r\n      } else {\r\n        var last = null;\r\n        for (var i = 0; i < findedResoList.length; i++) {\r\n          var citem = findedResoList[i];\r\n          if (typeof citem.mediaQuery.scope !== 'undefined') {\r\n            if (\r\n              citem.mediaQuery.scope.startWidth <= clientWidth &&\r\n              getEnd(citem.mediaQuery.scope.endWidth) > clientWidth &&\r\n              citem.mediaQuery.scope.startHeight <= windowHeight &&\r\n              getEnd(citem.mediaQuery.scope.endHeight) > windowHeight\r\n            ) {\r\n              last = citem;\r\n              break;\r\n            }\r\n          } else {\r\n            last = citem;\r\n          }\r\n        }\r\n        self.rebind(last.mediaQuery.config);\r\n      }\r\n    }\r\n  };\r\n\r\n  //适配rem算法\r\n  //这个算法还保留在以前的代码里\r\n  //这个的话最早可以追溯到2016年\r\n  this.adpRem = function() {\r\n    //适配rem的算法\r\n    (function(doc, win) {\r\n      var docEl = doc.documentElement,\r\n        resizeEvt =\r\n          'orientationchange' in window ? 'orientationchange' : 'resize',\r\n        recalc = function() {\r\n          //document.body.style.display = \"none\";\r\n          var clientWidth = docEl.clientWidth;\r\n          var windowHeight = docEl.clientHeight;\r\n          //document.body.style.display = \"\";\r\n\r\n          //应用大小限制选项\r\n          if (self.scaleLimit.enable === true) {\r\n            if (clientWidth > self.scaleLimit.maxWidth) {\r\n              clientWidth = self.scaleLimit.maxWidth;\r\n            }\r\n            if (clientWidth < self.scaleLimit.minWidth) {\r\n              clientWidth = self.scaleLimit.minWidth;\r\n            }\r\n            if (windowHeight > self.scaleLimit.maxHeight) {\r\n              windowHeight = self.scaleLimit.maxHeight;\r\n            }\r\n            if (windowHeight < self.scaleLimit.minHeight) {\r\n              windowHeight = self.scaleLimit.minHeight;\r\n            }\r\n          }\r\n\r\n          if (typeof window['_a_d_p_d_lockConfig'] === 'undefined') {\r\n            if (clientWidth > windowHeight) {\r\n              if (\r\n                typeof _mOptions !== 'undefined' &&\r\n                _mOptions.hasOwnProperty('queryList')\r\n              ) {\r\n                if (self.state !== 'h' && self.state !== '') {\r\n                  self.state = 'h';\r\n                  self.reInit();\r\n                  return;\r\n                }\r\n              }\r\n\r\n              self.state = 'h';\r\n              self.hCallBack(self);\r\n            } else {\r\n              if (\r\n                typeof _mOptions !== 'undefined' &&\r\n                _mOptions.hasOwnProperty('queryList')\r\n              ) {\r\n                if (self.state !== 'v' && self.state !== '') {\r\n                  self.state = 'v';\r\n                  self.reInit();\r\n                  return;\r\n                }\r\n              }\r\n              self.state = 'v';\r\n              self.vCallBack(self);\r\n            }\r\n          }\r\n\r\n          var compTarget = null;\r\n          if (!clientWidth) return;\r\n          //原始比例\r\n          var orgPre = self.designWidth / self.designHeight;\r\n          var currPre = clientWidth / windowHeight;\r\n          var res = 0;\r\n\r\n          var adWidth = function() {\r\n            //console.log('用宽度调整字体')\r\n            compTarget = clientWidth;\r\n            //计算设计字体大小和实际字体大小的比例关系\r\n            res = self.fontSize * (compTarget / self.designWidth);\r\n          };\r\n\r\n          var adHeight = function() {\r\n            //console.log('用高度调整字体')\r\n            compTarget = windowHeight;\r\n            //计算设计字体大小和实际字体大小的比例关系\r\n            res = self.fontSize * (compTarget / self.designHeight);\r\n          };\r\n\r\n          if (self.mode === 'auto') {\r\n            if (orgPre < currPre) {\r\n              adHeight();\r\n            } else {\r\n              adWidth();\r\n            }\r\n          } else if (self.mode === 'width') {\r\n            adWidth();\r\n          } else if (self.mode === 'height') {\r\n            adHeight();\r\n          }\r\n\r\n          var fSize = Number((res * self.getDevicePixelRatio()).toFixed(1));\r\n          //在计算过程中，加入页面缩放的数值\r\n          document.documentElement.style.fontSize = fSize + 'px';\r\n          self.computedFontSize = fSize;\r\n          self.orgFontSize_widthOutRatoComput = Number(res.toFixed(1));\r\n        };\r\n\r\n      let resizeF = function() {\r\n        self.debounceSetFontSize(recalc);\r\n      };\r\n      /*\r\n            window.onload = recalc;\r\n            */\r\n      if (!doc.addEventListener) return;\r\n      win.addEventListener(resizeEvt, resizeF, false);\r\n      doc.addEventListener('DOMContentLoaded', resizeF, false);\r\n      self.distory = function() {\r\n        clearTimeout(self.debounceTimeOut);\r\n        win.removeEventListener(resizeEvt, resizeF);\r\n        doc.removeEventListener('DOMContentLoaded', resizeF);\r\n      };\r\n      resizeF();\r\n    })(document, window);\r\n  };\r\n\r\n  this.debounceTimeOut = null;\r\n\r\n  /* \r\n \t用于计算当前显示比例和浏览器放大倍率的关联 \r\n  */\r\n  this.getDevicePixelRatio = function() {\r\n    if (\r\n      this.is_relate_with_devicePixelRatio &&\r\n      typeof window !== 'undefined' &&\r\n      typeof window.devicePixelRatio !== 'undefined'\r\n    ) {\r\n      return Number((window.outerWidth / window.innerWidth).toFixed(2));\r\n    }\r\n    return 1;\r\n  };\r\n\r\n  /**\r\n   * 设置字体大小的时候进行防抖处理\r\n   *  */\r\n  this.debounceSetFontSize = function(_recalc) {\r\n    if (this.debounceTimeOut !== null) {\r\n      clearTimeout(this.debounceTimeOut);\r\n    }\r\n    if (this.debounceTime <= 0) {\r\n      _recalc();\r\n    } else {\r\n      if (this.debounceTimeOut === null) {\r\n        _recalc();\r\n      }\r\n      this.debounceTimeOut = setTimeout(function() {\r\n        _recalc();\r\n        self.debounceTimeOut = null;\r\n      }, this.debounceTime);\r\n    }\r\n  };\r\n\r\n  //适配viewPort\r\n  //这是一个相当古老的算法了\r\n  //最早可以追溯到2015年\r\n  //原版算法已经找不到了\r\n  //最后只找到了这个被压缩后的版本\r\n  this.adaptVP = function(d) {\r\n    var vpObj = document.querySelector(\"meta[name='viewport']\");\r\n    //关闭viewport适配\r\n    if (this.viewPortSettings.mode === 'off') {\r\n      if (vpObj !== null) {\r\n        vpObj.remove();\r\n      }\r\n      return;\r\n    }\r\n    //打开viewPort适配但是手动适配\r\n    if (this.viewPortSettings.mode === 'config') {\r\n      var vpContent =\r\n        'width=' +\r\n        this.viewPortSettings.width +\r\n        ', initial-scale=' +\r\n        this.viewPortSettings.initialScale +\r\n        ',user-scalable=' +\r\n        this.viewPortSettings.userScalable;\r\n      if (vpObj !== null) {\r\n        vpObj.content = vpContent;\r\n      } else {\r\n        t =\r\n          document.querySelector(\"meta[name='viewport']\") ||\r\n          document.createElement('meta');\r\n        t.name = 'viewport';\r\n        t.content = vpContent;\r\n        a = document.getElementsByTagName('head');\r\n        if (a.length > 0) {\r\n          a[0].appendChild(t);\r\n        }\r\n      }\r\n      return;\r\n    }\r\n    /* \r\n    if (vpObj !== null) {\r\n      var width = '';\r\n      var arrVp = vpObj.content.split(',');\r\n      for (let i = 0; i < arrVp.length; i++) {\r\n        var item = arrVp[i].split('=');\r\n        if (item[0] === 'width') {\r\n          width = item[1];\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (width === d) {\r\n        return;\r\n      }\r\n    } */\r\n    function e() {\r\n      var e, i;\r\n      return (\r\n        (o.uWidth = d.uWidth ? d.uWidth : 640),\r\n        (o.dWidth = d.dWidth\r\n          ? d.dWidth\r\n          : window.screen.width || window.screen.availWidth),\r\n        (o.ratio = window.devicePixelRatio ? window.devicePixelRatio : 1),\r\n        (o.userAgent = navigator.userAgent),\r\n        (o.bConsole = d.bConsole ? d.bConsole : !1),\r\n        d.mode\r\n          ? void (o.mode = d.mode)\r\n          : ((e = o.userAgent.match(/Android/i)),\r\n            void (\r\n              e &&\r\n              ((o.mode = 'android-2.2'),\r\n              (i = o.userAgent.match(/Android\\s(\\d+.\\d+)/i)),\r\n              i && (i = parseFloat(i[1])),\r\n              2.2 == i || 2.3 == i\r\n                ? (o.mode = 'android-2.2')\r\n                : 4.4 > i\r\n                ? (o.mode = 'android-dpi')\r\n                : i >= 4.4 &&\r\n                  (o.mode =\r\n                    o.dWidth > o.uWidth ? 'android-dpi' : 'android-scale'))\r\n            ))\r\n      );\r\n    }\r\n    function getContent() {\r\n      var e,\r\n        i,\r\n        t,\r\n        a,\r\n        n = '',\r\n        r = !1;\r\n      if (o.userAgent.indexOf('Pixel') !== -1) {\r\n        o.mode = 'apple';\r\n      }\r\n      switch (o.mode) {\r\n        case 'apple':\r\n          n =\r\n            'width=' + self.designWidth + ', user-scalable=no, user-scalable=0';\r\n          break;\r\n        case 'android-2.2':\r\n          d.dWidth ||\r\n            (o.dWidth =\r\n              2 == o.ratio\r\n                ? 720\r\n                : 1.5 == o.ratio\r\n                ? 480\r\n                : 1 == o.ratio\r\n                ? 320\r\n                : 0.75 == o.ratio\r\n                ? 240\r\n                : 480),\r\n            (e = window.screen.width || window.screen.availWidth),\r\n            320 == e ? (o.dWidth = o.ratio * e) : 640 > e && (o.dWidth = e),\r\n            (o.mode = 'android-dpi'),\r\n            (r = !0);\r\n        case 'android-dpi':\r\n          (i = ((160 * o.uWidth) / o.dWidth) * o.ratio),\r\n            (n = ' width=' + o.uWidth + ', user-scalable=no'),\r\n            r && (o.mode = 'android-2.2');\r\n          break;\r\n        case 'android-scale':\r\n          i = ((160 * o.uWidth) / o.dWidth) * o.ratio;\r\n          n = 'width=' + o.uWidth + ', user-scalable=no';\r\n      }\r\n\r\n      if (vpObj !== null) {\r\n        vpObj.content = n;\r\n      } else {\r\n        t =\r\n          document.querySelector(\"meta[name='viewport']\") ||\r\n          document.createElement('meta');\r\n        t.name = 'viewport';\r\n        t.content = n;\r\n        a = document.getElementsByTagName('head');\r\n        if (a.length > 0) {\r\n          a[0].appendChild(t);\r\n        }\r\n      }\r\n    }\r\n    function t() {\r\n      var d = '';\r\n      for (key in o) {\r\n        d += key + ': ' + o[key] + '; ';\r\n      }\r\n      //alert(d);\r\n    }\r\n    if (d) {\r\n      var o = {\r\n        uWidth: 0,\r\n        dWidth: 0,\r\n        ratio: 1,\r\n        mode: 'apple',\r\n        userAgent: null,\r\n        bConsole: !1,\r\n      };\r\n      e(), getContent(), o.bConsole && t();\r\n    }\r\n  };\r\n};\r\n\r\nexport { _mobileAdp };\r\n","const _mobileAdp=function(e,i){var t=this;this.defaultOptions={fontSize:14,designWidth:1360,designHeight:755,scaleLimit:{enable:!1,maxWidth:1360,minWidth:800,maxHeight:755,minHeight:600},hCallBack:function(){},vCallBack:function(){},mode:\"auto\",debounceTime:500,viewPort:{mode:\"auto\",width:\"device-width\",initialScale:\"1.0\",userScalable:\"yes\"},is_relate_with_devicePixelRatio:!1};var n=function(e,i){for(var t in e=e||{},i)\"object\"==typeof i[t]?e[t]=n(e[t],i[t]):e[t]=i[t];return e};e=n(this.defaultOptions,e),this.fontSize=e.fontSize,this.computedFontSize=0,this.orgFontSize_widthOutRatoComput=0,this.designWidth=e.designWidth,this.designHeight=e.designHeight,this.hCallBack=e.hCallBack,this.vCallBack=e.vCallBack,this.scaleLimit=e.scaleLimit,this.debounceTime=e.debounceTime,this.mode=e.mode,this.is_relate_with_devicePixelRatio=e.is_relate_with_devicePixelRatio,this.state=\"\",this.viewPortSettings=e.viewPort,this.init=function(e){this.adaptVP({uWidth:this.designWidth}),this.adpRem(),void 0!==e&&e()},this.rebind=function(e,i){e=n(this.defaultOptions,e),this.fontSize=e.fontSize,this.designWidth=e.designWidth,this.designHeight=e.designHeight,this.hCallBack=e.hCallBack,this.vCallBack=e.vCallBack,this.scaleLimit=e.scaleLimit,this.mode=e.mode,this.state=\"\",this.init(function(){\"undefined\"!=typeof _callback&&i()})},this.reInit=function(){for(var e=[],n=0;n<i.queryList.length;n++){var d=i.queryList[n],o=!1;d.mediaQuery.screenState===t.state&&(o=!0),o&&e.push(d)}o&&d.mediaQuery.config;var a=window.document.documentElement.clientWidth,s=window.document.documentElement.clientHeight;let h=function(e){return-1===e?9999999999:e};if(void 0!==window._a_d_p_d_lockConfig&&(e=[window._a_d_p_d_lockConfig]),0!==e.length)if(1===e.length)t.rebind(e[0].mediaQuery.config);else{var l=null;for(n=0;n<e.length;n++){var r=e[n];if(void 0!==r.mediaQuery.scope){if(r.mediaQuery.scope.startWidth<=a&&h(r.mediaQuery.scope.endWidth)>a&&r.mediaQuery.scope.startHeight<=s&&h(r.mediaQuery.scope.endHeight)>s){l=r;break}}else l=r}t.rebind(l.mediaQuery.config)}},this.adpRem=function(){!function(e,n){var d=e.documentElement,o=\"orientationchange\"in window?\"orientationchange\":\"resize\",a=function(){var e=d.clientWidth,n=d.clientHeight;if(!0===t.scaleLimit.enable&&(e>t.scaleLimit.maxWidth&&(e=t.scaleLimit.maxWidth),e<t.scaleLimit.minWidth&&(e=t.scaleLimit.minWidth),n>t.scaleLimit.maxHeight&&(n=t.scaleLimit.maxHeight),n<t.scaleLimit.minHeight&&(n=t.scaleLimit.minHeight)),void 0===window._a_d_p_d_lockConfig)if(e>n){if(void 0!==i&&i.hasOwnProperty(\"queryList\")&&\"h\"!==t.state&&\"\"!==t.state)return t.state=\"h\",void t.reInit();t.state=\"h\",t.hCallBack(t)}else{if(void 0!==i&&i.hasOwnProperty(\"queryList\")&&\"v\"!==t.state&&\"\"!==t.state)return t.state=\"v\",void t.reInit();t.state=\"v\",t.vCallBack(t)}var o=null;if(e){var a=t.designWidth/t.designHeight,s=e/n,h=0,l=function(){o=e,h=t.fontSize*(o/t.designWidth)},r=function(){o=n,h=t.fontSize*(o/t.designHeight)};\"auto\"===t.mode?a<s?r():l():\"width\"===t.mode?l():\"height\"===t.mode&&r();var c=Number((h*t.getDevicePixelRatio()).toFixed(1));document.documentElement.style.fontSize=c+\"px\",t.computedFontSize=c,t.orgFontSize_widthOutRatoComput=Number(h.toFixed(1))}};let s=function(){t.debounceSetFontSize(a)};e.addEventListener&&(n.addEventListener(o,s,!1),e.addEventListener(\"DOMContentLoaded\",s,!1),t.distory=function(){clearTimeout(t.debounceTimeOut),n.removeEventListener(o,s),e.removeEventListener(\"DOMContentLoaded\",s)},s())}(document,window)},this.debounceTimeOut=null,this.getDevicePixelRatio=function(){return this.is_relate_with_devicePixelRatio&&\"undefined\"!=typeof window&&void 0!==window.devicePixelRatio?Number((window.outerWidth/window.innerWidth).toFixed(2)):1},this.debounceSetFontSize=function(e){null!==this.debounceTimeOut&&clearTimeout(this.debounceTimeOut),this.debounceTime<=0?e():(null===this.debounceTimeOut&&e(),this.debounceTimeOut=setTimeout(function(){e(),t.debounceTimeOut=null},this.debounceTime))},this.adaptVP=function(e){var i=document.querySelector(\"meta[name='viewport']\");if(\"off\"!==this.viewPortSettings.mode)if(\"config\"!==this.viewPortSettings.mode){if(e){var n={uWidth:0,dWidth:0,ratio:1,mode:\"apple\",userAgent:null,bConsole:!1};n.uWidth=e.uWidth?e.uWidth:640,n.dWidth=e.dWidth?e.dWidth:window.screen.width||window.screen.availWidth,n.ratio=window.devicePixelRatio?window.devicePixelRatio:1,n.userAgent=navigator.userAgent,n.bConsole=!!e.bConsole&&e.bConsole,e.mode?n.mode=e.mode:n.userAgent.match(/Android/i)&&(n.mode=\"android-2.2\",(d=n.userAgent.match(/Android\\s(\\d+.\\d+)/i))&&(d=parseFloat(d[1])),2.2==d||2.3==d?n.mode=\"android-2.2\":4.4>d?n.mode=\"android-dpi\":d>=4.4&&(n.mode=n.dWidth>n.uWidth?\"android-dpi\":\"android-scale\")),function(){var d,o,a,s=\"\",h=!1;switch(-1!==n.userAgent.indexOf(\"Pixel\")&&(n.mode=\"apple\"),n.mode){case\"apple\":s=\"width=\"+t.designWidth+\", user-scalable=no, user-scalable=0\";break;case\"android-2.2\":e.dWidth||(n.dWidth=2==n.ratio?720:1.5==n.ratio?480:1==n.ratio?320:.75==n.ratio?240:480),320==(d=window.screen.width||window.screen.availWidth)?n.dWidth=n.ratio*d:640>d&&(n.dWidth=d),n.mode=\"android-dpi\",h=!0;case\"android-dpi\":n.uWidth,n.dWidth,n.ratio,s=\" width=\"+n.uWidth+\", user-scalable=no\",h&&(n.mode=\"android-2.2\");break;case\"android-scale\":n.uWidth,n.dWidth,n.ratio,s=\"width=\"+n.uWidth+\", user-scalable=no\"}null!==i?i.content=s:((o=document.querySelector(\"meta[name='viewport']\")||document.createElement(\"meta\")).name=\"viewport\",o.content=s,(a=document.getElementsByTagName(\"head\")).length>0&&a[0].appendChild(o))}(),n.bConsole&&s()}var d}else{var o=\"width=\"+this.viewPortSettings.width+\", initial-scale=\"+this.viewPortSettings.initialScale+\",user-scalable=\"+this.viewPortSettings.userScalable;null!==i?i.content=o:((s=document.querySelector(\"meta[name='viewport']\")||document.createElement(\"meta\")).name=\"viewport\",s.content=o,a=document.getElementsByTagName(\"head\"),a.length>0&&a[0].appendChild(s))}else null!==i&&i.remove();function s(){for(key in n)key+\": \"+n[key]+\"; \"}}};export{_mobileAdp};","/**\r\n * 本文件为分辨率适配钩子\r\n * 廖力编写 2022/03/28\r\n */\r\nimport React, { useState, useEffect, createContext, useContext } from 'react';\r\nimport { ReactElement } from 'react';\r\nimport {\r\n  Iconfig,\r\n  EresoMode,\r\n  Ireso,\r\n  IconfigMutiple,\r\n  Imq,\r\n  EscreenState,\r\n} from './iReso';\r\nimport { _mobileAdp } from './mobileAdp';\r\nimport { _mobileAdp as _mobileAdpMin } from './mobileAdp_min';\r\nimport useJquery, { isRunningInServer } from '@bobliao/use-jquery-hook';\r\nimport { Helmet } from 'react-helmet';\r\n//import requireContext from 'require-context.macro';\r\nimport codeStringify from 'code-stringify';\r\n\r\nexport type config = Iconfig | IconfigMutiple;\r\n\r\n/**\r\n * 创建一个需要全局使用的context\r\n **/\r\nconst resoContext = createContext<Ireso>({} as Ireso);\r\n\r\n/**\r\n * 默认配置\r\n */\r\nconst defaultConfig: config = {\r\n  //页面字体基准是14像素\r\n  fontSize: 14,\r\n  //设计稿宽度/高度\r\n  designWidth: 1360,\r\n  designHeight: 755,\r\n  //缩放限制参数\r\n  //用于限制页面的缩放大小\r\n  scaleLimit: {\r\n    enable: false,\r\n    maxWidth: 1360,\r\n    minWidth: 800,\r\n    maxHeight: 755,\r\n    minHeight: 600,\r\n  },\r\n  //横屏回调函数\r\n  hCallBack: function() {},\r\n  //竖屏回调函数\r\n  vCallBack: function() {},\r\n  //调整模式\r\n  mode: EresoMode.AUTO,\r\n  //viewPort配置\r\n  viewPort: {\r\n    //auto | config | off\r\n    mode: 'auto',\r\n  },\r\n  is_relate_with_devicePixelRatio: false,\r\n};\r\n\r\n/* 服务器渲染版本 */\r\nexport const resoForServer = function(\r\n  config: config = { ...defaultConfig }\r\n): Ireso {\r\n  /**\r\n   * 适配\r\n   */\r\n  const makeReso = function(_config, _testState) {\r\n    let mobileAdp: any = new _mobileAdp(_config, config);\r\n    let helTags: ReactElement;\r\n    let injectElements: ReactElement;\r\n    let scrStr: string = '';\r\n    var codeString = codeStringify(_mobileAdpMin);\r\n\r\n    scrStr =\r\n      ` window.__m_adp__ = ` +\r\n      codeString +\r\n      `;var _adp_config = ` +\r\n      JSON.stringify(config) +\r\n      `;if(_adp_config.hasOwnProperty(\"queryList\")){var clientWidth=window.document.documentElement.clientWidth,windowHeight=window.document.documentElement.clientHeight,testState=\"h\";testState=clientWidth>windowHeight?\"h\":\"v\";for(var i=0;i<_adp_config.queryList.length;i++){var _item=_adp_config.queryList[i],_index=i,isCondition=!1;if(_item.mediaQuery.screenState===testState&&(isCondition=!0),isCondition){_item.mediaQuery.config.debounceTime=0,window._a_d_p_d=new __m_adp__(_item.mediaQuery.config,_adp_config),window._a_d_p_d.init();break}}}else _adp_config.debounceTime=0,window._a_d_p_d=new __m_adp__(_adp_config),window._a_d_p_d.init();`;\r\n    injectElements = <script id=\"_a_d_p_\">{scrStr}</script>;\r\n    scrStr = scrStr.replace(/[\\r\\n]/g, '');\r\n    //如果是运行在服务端上面就写入一段原生代码,让分辨率适配在网页加载的第一时间进行适配\r\n    //如果这里不进行适配,那么在网页加载的第一时间,客户端代码还没注入的时候,页面将会抽搐一下,\r\n    //等客户端代码完全运行完成后,页面分辨率才会被适配到适合的样子,加入这段代码后,页面在到达浏览器的第一时间就可以开始适配的分辨率\r\n    helTags = <Helmet>{injectElements}</Helmet>;\r\n\r\n    return {\r\n      data: {\r\n        helTags: helTags,\r\n        elemsnts: injectElements,\r\n        scriptStr: scrStr,\r\n      },\r\n      funcs: mobileAdp,\r\n      screenState: EscreenState.HORIZONTAL,\r\n      width: mobileAdp.designWidth,\r\n      height: mobileAdp.designHeight,\r\n      fontSize: mobileAdp.computedFontSize,\r\n      fontSize_org: mobileAdp.orgFontSize_widthOutRatoComput,\r\n      current_pixRato: 1,\r\n    };\r\n  };\r\n\r\n  return makeReso(config, EscreenState.HORIZONTAL);\r\n};\r\n\r\n/* 客户端渲染版本 */\r\nconst useReso = function(config: config = { ...defaultConfig }): Ireso {\r\n  const $ = useJquery();\r\n  const [screenState, setscreenState] = useState<EscreenState>(\r\n    EscreenState.HORIZONTAL\r\n  );\r\n\r\n  /**\r\n   * 适配\r\n   */\r\n  const makeReso = function(_config, _testState) {\r\n    //let context = requireContext(\"../nativeComs/\", false, /mobileAdp.js/);\r\n    //let modul = context(\"./mobileAdp.js\");\r\n    let mobileAdp: any = new _mobileAdp(_config, config);\r\n    let helTags: ReactElement;\r\n    let injectElements: ReactElement;\r\n    let scrStr: string = '';\r\n    if (!isRunningInServer) {\r\n      //如果是运行在客户端上面就直接初始化\r\n      if (typeof window['_a_d_p_d'] !== 'undefined') {\r\n        if (typeof window['_a_d_p_d']['distory'] !== 'undefined') {\r\n          window['_a_d_p_d']['distory']();\r\n        }\r\n      }\r\n      mobileAdp.init();\r\n    } else {\r\n      /* let UglifyJS = require('uglify-js'); */\r\n      var codeString = codeStringify(_mobileAdpMin);\r\n\r\n      scrStr =\r\n        ` window.__m_adp__ = ` +\r\n        codeString +\r\n        `;var _adp_config = ` +\r\n        JSON.stringify(config) +\r\n        `;if(_adp_config.hasOwnProperty(\"queryList\")){var clientWidth=window.document.documentElement.clientWidth,windowHeight=window.document.documentElement.clientHeight,testState=\"h\";testState=clientWidth>windowHeight?\"h\":\"v\";for(var i=0;i<_adp_config.queryList.length;i++){var _item=_adp_config.queryList[i],_index=i,isCondition=!1;if(_item.mediaQuery.screenState===testState&&(isCondition=!0),isCondition){_item.mediaQuery.config.debounceTime=0,window._a_d_p_d=new __m_adp__(_item.mediaQuery.config,_adp_config),window._a_d_p_d.init();break}}}else _adp_config.debounceTime=0,window._a_d_p_d=new __m_adp__(_adp_config),window._a_d_p_d.init();`;\r\n      /*       let code = { 'reso.js': scrStr };\r\n      scrStr = UglifyJS.minify(code).code; */\r\n      scrStr = scrStr.replace(/[\\r\\n]/g, '');\r\n      injectElements = <script id=\"_a_d_p_\">{scrStr}</script>;\r\n      //如果是运行在服务端上面就写入一段原生代码,让分辨率适配在网页加载的第一时间进行适配\r\n      //如果这里不进行适配,那么在网页加载的第一时间,客户端代码还没注入的时候,页面将会抽搐一下,\r\n      //等客户端代码完全运行完成后,页面分辨率才会被适配到适合的样子,加入这段代码后,页面在到达浏览器的第一时间就可以开始适配的分辨率\r\n      helTags = <Helmet>{injectElements}</Helmet>;\r\n    }\r\n\r\n    return {\r\n      data: { helTags: helTags, elemsnts: injectElements, scriptStr: scrStr },\r\n      funcs: mobileAdp,\r\n      screenState: screenState,\r\n      width: mobileAdp.designWidth,\r\n      height: mobileAdp.designHeight,\r\n      fontSize: mobileAdp.computedFontSize,\r\n      fontSize_org: mobileAdp.orgFontSize_widthOutRatoComput,\r\n      current_pixRato: (function() {\r\n        if (isRunningInServer) {\r\n          return 1;\r\n        } else {\r\n          return mobileAdp.getDevicePixelRatio();\r\n        }\r\n      })(),\r\n    };\r\n  };\r\n\r\n  var clientWidth: number = 1920;\r\n  var windowHeight: number = 1080;\r\n  var testState: EscreenState = EscreenState.HORIZONTAL;\r\n\r\n  if (clientWidth > windowHeight) {\r\n    testState = EscreenState.HORIZONTAL;\r\n  } else {\r\n    testState = EscreenState.VERTICAL;\r\n  }\r\n\r\n  const testStateFunc = function(_isSetState: boolean) {\r\n    clientWidth = window.document.documentElement.clientWidth;\r\n    windowHeight = window.document.documentElement.clientHeight;\r\n\r\n    if (clientWidth > windowHeight) {\r\n      testState = EscreenState.HORIZONTAL;\r\n    } else {\r\n      testState = EscreenState.VERTICAL;\r\n    }\r\n\r\n    if (\r\n      _isSetState === true &&\r\n      typeof window['_a_d_p_d_lockConfig'] !== 'undefined'\r\n    ) {\r\n      setscreenState(window['_a_d_p_d_lockConfig'].mediaQuery.screenState);\r\n    } else if (_isSetState === true) {\r\n      setscreenState(testState);\r\n    }\r\n  };\r\n\r\n  if (!isRunningInServer) {\r\n    const st = function() {\r\n      testStateFunc(true);\r\n    };\r\n    useEffect(function(): ReturnType<React.EffectCallback> {\r\n      $(window).resize(st);\r\n      testStateFunc(true);\r\n      return function(): void {\r\n        $(window).unbind('resize', st);\r\n      };\r\n    }, []);\r\n    testStateFunc(false);\r\n  }\r\n\r\n  let getEnd = function(_ed: number): number {\r\n    if (_ed === -1) {\r\n      return 9999999999;\r\n    } else {\r\n      return _ed;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 如果是多条参数适配\r\n   */\r\n  if (config.hasOwnProperty('queryList')) {\r\n    config = config as IconfigMutiple;\r\n    if (!isRunningInServer) {\r\n      if (typeof window['_a_d_p_d'] !== 'undefined') {\r\n        if (typeof window['_a_d_p_d']['distory'] !== 'undefined') {\r\n          window['_a_d_p_d']['distory']();\r\n        }\r\n      }\r\n\r\n      //如果在内存里找到已经缓存好的屏幕状态配置，就直接使用这个配置，不要重新适配\r\n      if (typeof window['_a_d_p_d_lockConfig'] !== 'undefined') {\r\n        return makeReso(\r\n          window['_a_d_p_d_lockConfig'].mediaQuery.config,\r\n          window['_a_d_p_d_lockConfig'].mediaQuery.screenState\r\n        );\r\n      }\r\n\r\n      var result: any = null;\r\n      var findedResoList: Array<Imq> = [];\r\n      for (var i = 0; i < config.queryList.length; i++) {\r\n        var _item: Imq = config.queryList[i];\r\n        var isCondition: boolean = false;\r\n        if (_item.mediaQuery.screenState === testState) {\r\n          isCondition = true;\r\n          //是否锁定到该条件\r\n          if (_item.mediaQuery.lock === true) {\r\n            window['_a_d_p_d_lockConfig'] = _item;\r\n          }\r\n        }\r\n        if (isCondition) {\r\n          findedResoList.push(_item);\r\n        }\r\n      }\r\n      if (findedResoList.length !== 0) {\r\n        if (findedResoList.length === 1) {\r\n          result = makeReso(findedResoList[0].mediaQuery.config, testState);\r\n        } else {\r\n          var last: Imq = null;\r\n          for (var i = 0; i < findedResoList.length; i++) {\r\n            var citem: Imq = findedResoList[i];\r\n            if (typeof citem.mediaQuery.scope !== 'undefined') {\r\n              if (\r\n                citem.mediaQuery.scope.startWidth <= clientWidth &&\r\n                getEnd(citem.mediaQuery.scope.endWidth) > clientWidth &&\r\n                citem.mediaQuery.scope.startHeight <= windowHeight &&\r\n                getEnd(citem.mediaQuery.scope.endHeight) > windowHeight\r\n              ) {\r\n                last = citem;\r\n                break;\r\n              }\r\n            } else {\r\n              last = citem;\r\n            }\r\n          }\r\n          result = makeReso(last.mediaQuery.config, testState);\r\n        }\r\n      }\r\n\r\n      return result;\r\n    } else {\r\n      return makeReso(config.queryList[0].mediaQuery.config, testState);\r\n    }\r\n  } else {\r\n    return makeReso(config, testState);\r\n  }\r\n};\r\n\r\nlet useResoContext = function(): Ireso {\r\n  var r: Ireso = useContext(resoContext);\r\n  return r;\r\n};\r\n\r\nexport { useReso as default, _mobileAdp, resoContext, useResoContext };\r\n","import useReso, { _mobileAdp,resoContext, useResoContext, resoForServer } from './resoHook';\r\nexport type { Ireso, Iconfig, IconfigMutiple, Imq, queryItem } from './iReso';\r\n/**\r\n * 屏幕状态\r\n */\r\nexport enum EscreenState {\r\n\t/**\r\n\t * 横向屏幕\r\n\t */\r\n\tHORIZONTAL = \"h\",\r\n\t/**\r\n\t * 竖屏显示\r\n\t */\r\n\tVERTICAL = \"v\",\r\n}\r\n\r\n/**\r\n * 设置分辨率适配器的工作模式\r\n */\r\nexport enum EresoMode {\r\n\t/**\r\n\t * auto:自动选择高度还是宽度来调整\r\n\t */\r\n\tAUTO = \"auto\",\r\n\t/**\r\n\t * width:只通过宽度调整\r\n\t */\r\n\tWIDTH = \"width\",\r\n\t/**\r\n\t * height:只通过高度调整\r\n\t */\r\n\tHEIGHT = \"height\",\r\n}\r\n\r\nexport { useReso, _mobileAdp,resoContext, useResoContext,resoForServer };\r\n"],"names":["EresoMode","EscreenState","_mobileAdp","_options","_mOptions","self","this","defaultOptions","fontSize","designWidth","designHeight","scaleLimit","enable","maxWidth","minWidth","maxHeight","minHeight","hCallBack","vCallBack","mode","debounceTime","viewPort","width","initialScale","userScalable","is_relate_with_devicePixelRatio","extend","target","source","prop","computedFontSize","orgFontSize_widthOutRatoComput","state","viewPortSettings","init","_callback","adaptVP","uWidth","adpRem","rebind","_callBack","reInit","findedResoList","i","queryList","length","_item","isCondition","mediaQuery","screenState","push","clientWidth","window","document","documentElement","windowHeight","clientHeight","getEnd","_ed","config","last","citem","scope","startWidth","endWidth","startHeight","endHeight","doc","win","docEl","resizeEvt","recalc","resizeF","hasOwnProperty","res","adWidth","adHeight","fSize","Number","getDevicePixelRatio","toFixed","style","debounceSetFontSize","addEventListener","distory","clearTimeout","debounceTimeOut","removeEventListener","devicePixelRatio","outerWidth","innerWidth","_recalc","setTimeout","d","vpObj","querySelector","o","dWidth","ratio","userAgent","bConsole","screen","availWidth","navigator","match","parseFloat","e","t","a","n","r","indexOf","content","createElement","name","getElementsByTagName","appendChild","getContent","vpContent","remove","key","s","h","_a_d_p_d_lockConfig","l","c","resoContext","createContext","defaultConfig","AUTO","injectElements","mobileAdp","scrStr","codeStringify","_mobileAdpMin","JSON","stringify","React","id","replace","data","helTags","Helmet","elemsnts","scriptStr","funcs","HORIZONTAL","height","fontSize_org","current_pixRato","$","useJquery","useState","setscreenState","makeReso","_config","_testState","isRunningInServer","testState","VERTICAL","testStateFunc","_isSetState","st","useEffect","resize","unbind","result","lock","useContext"],"mappings":"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"}