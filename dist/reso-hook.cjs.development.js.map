{"version":3,"file":"reso-hook.cjs.development.js","sources":["../src/iReso.ts","../src/mobileAdp.js","../src/mobileAdp_min.js","../src/resoHook.tsx","../src/index.ts"],"sourcesContent":["import { ReactElement } from 'react';\n/**\n * useReso 钩子返回的东西\n */\nexport interface Ireso {\n  /**\n   * 数据\n   */\n  data: {\n    /**\n     * 用于服务器端渲染时,进行分辨率预计算的写入元素\n     */\n    helTags: ReactElement;\n    /**\n     * 剥离了Helmet的版本\n     */\n    elemsnts: ReactElement;\n    /*\n     *脚本纯字符串\n     */\n    scriptStr: string;\n  };\n  /**\n   * 返回初始化好的mobileAdp对象\n   */\n  funcs: any;\n  /**\n   * 屏幕状态\n   */\n  screenState: EscreenState;\n  width: string | number;\n  height: string | number;\n  fontSize: string | number;\n}\n\n/**\n * 设置分辨率适配器的工作模式\n */\nexport enum EresoMode {\n  /**\n   * auto:自动选择高度还是宽度来调整\n   */\n  AUTO = 'auto',\n  /**\n   * width:只通过宽度调整\n   */\n  WIDTH = 'width',\n  /**\n   * height:只通过高度调整\n   */\n  HEIGHT = 'height',\n}\n\n/**\n * 用于分辨率适配器的参数\n */\nexport interface Iconfig {\n  /**\n   * 页面字体基准\n   */\n  fontSize: number;\n  /**\n   * 设计稿的宽度\n   */\n  designWidth: number;\n  /**\n   * 设计稿的高度\n   */\n  designHeight: number;\n  /**\n   * 缩放限制参数\n   * 用于限制页面的缩放大小\n   */\n  scaleLimit?: {\n    /**\n     * 是否打开缩放限制\n     */\n    enable: boolean;\n    /**\n     * 最大的宽度限制\n     */\n    maxWidth?: number;\n    /**\n     * 最小的宽度限制\n     */\n    minWidth?: number;\n    /**\n     * 最大的高度\n     */\n    maxHeight?: number;\n    /**\n     * 最小的高度\n     */\n    minHeight?: number;\n  };\n  /**\n   * 横屏回调函数\n   */\n  hCallBack?: Function;\n  /**\n   * 竖屏回调函数\n   */\n  vCallBack?: Function;\n  /**\n   * 调整模式\n   */\n  mode?: EresoMode;\n  /**\n   * 防抖时间\n   */\n  debounceTime?: number;\n  //viewPort配置\n  viewPort?: {\n    //auto | config | off\n    //模式，auto为打开viewport配置，但是自动适配\n    //config为按照配置指定viewport参数\n    //off为关闭\n    mode?: 'auto' | 'config' | 'off';\n    width?: string;\n    initialScale?: string;\n    userScalable?: 'yes' | 'no';\n  };\n  //是否根据浏览器的缩放设置调整大小\n  is_relate_with_devicePixelRatio?: boolean;\n}\n\n/**\n * 用于分辨率适配器的参数\n * 多参数适配\n */\nexport interface IconfigMutiple {\n  /**\n   * 查询条件\n   */\n  queryList: Array<Imq>;\n}\n\nexport interface Imq {\n  /**\n   * 查询当前窗体的宽度例如\n   * '(min-width: 1824px)'\n   * '(max-width: 1224px)'\n   * 符合条件的就使用config来进行适配\n   */\n  mediaQuery: {\n    /**\n     * 查询条件\n     */\n    screenState: EscreenState;\n    /**\n     *是否进入条件后锁定该条件，之后条件再变动也不动?\n     */\n    lock?: boolean;\n    /**\n     * 范围控制\n     */\n    scope?: queryItem;\n    /**\n     * 适配参数\n     */\n    config: Iconfig;\n  };\n}\n\n/**\n * 屏幕状态\n */\nexport enum EscreenState {\n  /**\n   * 横向屏幕\n   */\n  HORIZONTAL = 'h',\n  /**\n   * 竖屏显示\n   */\n  VERTICAL = 'v',\n}\n\n/**\n * 屏幕比例适配\n */\nexport interface queryItem {\n  /**\n   * 开始宽度\n   */\n  startWidth: number;\n  /**\n   * 结束宽度\n   * -1表示无限大\n   */\n  endWidth: number;\n  /**\n   * 开始高度\n   */\n  startHeight: number;\n  /**\n   * 结束高度\n   * -1表示无限大\n   */\n  endHeight: number;\n}\n","/*!\n * mobileAdp.js\n * (c) 2015-2024 bobliao\n * Released under the MIT License.\n */\n\n/*\n * 移动端界面比例适配器\n * 廖力编写\n * 2021年总汇版本\n * 本适配器可以不依赖任何库直接运行\n * 建议在页面加载进来的第一时间完成适配\n * 免得界面渲染完成后再适配引起页面抖动\n */\nconst _mobileAdp = function(_options, _mOptions) {\n  var self = this;\n\n  this.defaultOptions = {\n    //页面字体基准是14像素\n    fontSize: 14,\n    //设计稿宽度/高度\n    designWidth: 1360,\n    designHeight: 755,\n    //缩放限制参数\n    //用于限制页面的缩放大小\n    scaleLimit: {\n      enable: false,\n      maxWidth: 1360,\n      minWidth: 800,\n      maxHeight: 755,\n      minHeight: 600,\n    },\n    //横屏回调函数\n    hCallBack: function() {},\n    //竖屏回调函数\n    vCallBack: function() {},\n    //调整模式\n    //auto:自动选择高度还是宽度来调整\n    //width:只通过宽度调整\n    //height:只通过高度调整\n    mode: 'auto',\n    //防抖时间\n    debounceTime: 500,\n    //viewPort配置\n    viewPort: {\n      //auto | config | off\n      //模式，auto为打开viewport配置，但是自动适配\n      //config为按照配置指定viewport参数\n      //off为关闭\n      mode: 'auto',\n      width: 'device-width',\n      initialScale: '1.0',\n      userScalable: 'yes',\n    },\n    //是否根据浏览器的缩放设置调整大小\n    is_relate_with_devicePixelRatio: false,\n  };\n\n  //拷贝函数\n  var extend = function(target, source) {\n    target = target || {};\n    for (var prop in source) {\n      if (typeof source[prop] === 'object') {\n        target[prop] = extend(target[prop], source[prop]);\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n    return target;\n  };\n\n  _options = extend(this.defaultOptions, _options);\n\n  //rem相对字体大小起始大小\n  //单位像素\n  this.fontSize = _options.fontSize;\n  this.computedFontSize = 0;\n  this.orgFontSize_widthOutRatoComput = 0;\n  //设计稿宽度\n  this.designWidth = _options.designWidth;\n  //设计稿高度\n  this.designHeight = _options.designHeight;\n\n  //横屏回调函数\n  this.hCallBack = _options.hCallBack;\n\n  //竖屏回调函数\n  this.vCallBack = _options.vCallBack;\n\n  //大小限制选项\n  this.scaleLimit = _options.scaleLimit;\n\n  //防抖时间\n  this.debounceTime = _options.debounceTime;\n\n  ///调整模式\n  //auto:自动选择高度还是宽度来调整\n  //width:只通过宽度调整\n  //height:只通过高度调整,\n  this.mode = _options.mode;\n\n  this.is_relate_with_devicePixelRatio =\n    _options.is_relate_with_devicePixelRatio;\n\n  //指示当前是横屏还是竖屏\n  this.state = '';\n\n  //当前viewPort配置\n  this.viewPortSettings = _options.viewPort;\n\n  //初始化\n  this.init = function(_callback) {\n    //先适配viewPort\n    this.adaptVP({ uWidth: this.designWidth });\n    //然后再适配rem\n    this.adpRem();\n\n    if (typeof _callback !== 'undefined') {\n      _callback();\n    }\n  };\n\n  //重新调整\n  this.rebind = function(_options, _callBack) {\n    _options = extend(this.defaultOptions, _options);\n    //rem相对字体大小起始大小\n    //单位像素\n    this.fontSize = _options.fontSize;\n    //设计稿宽度\n    this.designWidth = _options.designWidth;\n    //设计稿高度\n    this.designHeight = _options.designHeight;\n\n    //横屏回调函数\n    this.hCallBack = _options.hCallBack;\n\n    //竖屏回调函数\n    this.vCallBack = _options.vCallBack;\n\n    //大小限制选项\n    this.scaleLimit = _options.scaleLimit;\n\n    ///调整模式\n    //auto:自动选择高度还是宽度来调整\n    //width:只通过宽度调整\n    //height:只通过高度调整,\n    this.mode = _options.mode;\n\n    //指示当前是横屏还是竖屏\n    this.state = '';\n    this.init(function() {\n      if (typeof _callback !== 'undefined') {\n        _callBack();\n      }\n    });\n  };\n\n  /**\n   * 重新初始化\n   */\n  this.reInit = function() {\n    var findedResoList = [];\n    for (var i = 0; i < _mOptions.queryList.length; i++) {\n      var _item = _mOptions.queryList[i];\n      var isCondition = false;\n      if (_item.mediaQuery.screenState === self.state) {\n        isCondition = true;\n      }\n      if (isCondition) {\n        findedResoList.push(_item);\n      }\n    }\n    if (isCondition) {\n      _item.mediaQuery.config;\n    }\n    var clientWidth = window.document.documentElement.clientWidth;\n    var windowHeight = window.document.documentElement.clientHeight;\n\n    let getEnd = function(_ed) {\n      if (_ed === -1) {\n        return 9999999999;\n      } else {\n        return _ed;\n      }\n    };\n\n    if (typeof window['_a_d_p_d_lockConfig'] !== 'undefined') {\n      findedResoList = [window['_a_d_p_d_lockConfig']];\n    }\n\n    if (findedResoList.length !== 0) {\n      if (findedResoList.length === 1) {\n        self.rebind(findedResoList[0].mediaQuery.config);\n      } else {\n        var last = null;\n        for (var i = 0; i < findedResoList.length; i++) {\n          var citem = findedResoList[i];\n          if (typeof citem.mediaQuery.scope !== 'undefined') {\n            if (\n              citem.mediaQuery.scope.startWidth <= clientWidth &&\n              getEnd(citem.mediaQuery.scope.endWidth) > clientWidth &&\n              citem.mediaQuery.scope.startHeight <= windowHeight &&\n              getEnd(citem.mediaQuery.scope.endHeight) > windowHeight\n            ) {\n              last = citem;\n              break;\n            }\n          } else {\n            last = citem;\n          }\n        }\n        self.rebind(last.mediaQuery.config);\n      }\n    }\n  };\n\n  //适配rem算法\n  //这个算法还保留在以前的代码里\n  //这个的话最早可以追溯到2016年\n  this.adpRem = function() {\n    //适配rem的算法\n    (function(doc, win) {\n      var docEl = doc.documentElement,\n        resizeEvt =\n          'orientationchange' in window ? 'orientationchange' : 'resize',\n        recalc = function() {\n          //document.body.style.display = \"none\";\n          var clientWidth = docEl.clientWidth;\n          var windowHeight = docEl.clientHeight;\n          //document.body.style.display = \"\";\n\n          //应用大小限制选项\n          if (self.scaleLimit.enable === true) {\n            if (clientWidth > self.scaleLimit.maxWidth) {\n              clientWidth = self.scaleLimit.maxWidth;\n            }\n            if (clientWidth < self.scaleLimit.minWidth) {\n              clientWidth = self.scaleLimit.minWidth;\n            }\n            if (windowHeight > self.scaleLimit.maxHeight) {\n              windowHeight = self.scaleLimit.maxHeight;\n            }\n            if (windowHeight < self.scaleLimit.minHeight) {\n              windowHeight = self.scaleLimit.minHeight;\n            }\n          }\n\n          if (typeof window['_a_d_p_d_lockConfig'] === 'undefined') {\n            if (clientWidth > windowHeight) {\n              if (\n                typeof _mOptions !== 'undefined' &&\n                _mOptions.hasOwnProperty('queryList')\n              ) {\n                if (self.state !== 'h' && self.state !== '') {\n                  self.state = 'h';\n                  self.reInit();\n                  return;\n                }\n              }\n\n              self.state = 'h';\n              self.hCallBack(self);\n            } else {\n              if (\n                typeof _mOptions !== 'undefined' &&\n                _mOptions.hasOwnProperty('queryList')\n              ) {\n                if (self.state !== 'v' && self.state !== '') {\n                  self.state = 'v';\n                  self.reInit();\n                  return;\n                }\n              }\n              self.state = 'v';\n              self.vCallBack(self);\n            }\n          }\n\n          var compTarget = null;\n          if (!clientWidth) return;\n          //原始比例\n          var orgPre = self.designWidth / self.designHeight;\n          var currPre = clientWidth / windowHeight;\n          var res = 0;\n\n          var adWidth = function() {\n            //console.log('用宽度调整字体')\n            compTarget = clientWidth;\n            //计算设计字体大小和实际字体大小的比例关系\n            res = self.fontSize * (compTarget / self.designWidth);\n          };\n\n          var adHeight = function() {\n            //console.log('用高度调整字体')\n            compTarget = windowHeight;\n            //计算设计字体大小和实际字体大小的比例关系\n            res = self.fontSize * (compTarget / self.designHeight);\n          };\n\n          if (self.mode === 'auto') {\n            if (orgPre < currPre) {\n              adHeight();\n            } else {\n              adWidth();\n            }\n          } else if (self.mode === 'width') {\n            adWidth();\n          } else if (self.mode === 'height') {\n            adHeight();\n          }\n\n          var fSize = Number((res * self.getDevicePixelRatio()).toFixed(1));\n          //在计算过程中，加入页面缩放的数值\n          document.documentElement.style.fontSize = fSize + 'px';\n          self.computedFontSize = fSize;\n          self.orgFontSize_widthOutRatoComput = Number(res.toFixed(1));\n        };\n\n      let resizeF = function() {\n        self.debounceSetFontSize(recalc);\n      };\n      /*\n            window.onload = recalc;\n            */\n      if (!doc.addEventListener) return;\n      win.addEventListener(resizeEvt, resizeF, false);\n      doc.addEventListener('DOMContentLoaded', resizeF, false);\n      self.distory = function() {\n        clearTimeout(self.debounceTimeOut);\n        win.removeEventListener(resizeEvt, resizeF);\n        doc.removeEventListener('DOMContentLoaded', resizeF);\n      };\n      resizeF();\n    })(document, window);\n  };\n\n  this.debounceTimeOut = null;\n\n  /* \n \t用于计算当前显示比例和浏览器放大倍率的关联 \n  */\n  this.getDevicePixelRatio = function() {\n    if (\n      this.is_relate_with_devicePixelRatio &&\n      typeof window !== 'undefined' &&\n      typeof window.devicePixelRatio !== 'undefined'\n    ) {\n      return Number((window.outerWidth / window.innerWidth).toFixed(2));\n    }\n    return 1;\n  };\n\n  /**\n   * 设置字体大小的时候进行防抖处理\n   *  */\n  this.debounceSetFontSize = function(_recalc) {\n    if (this.debounceTimeOut !== null) {\n      clearTimeout(this.debounceTimeOut);\n    }\n    if (this.debounceTime <= 0) {\n      _recalc();\n    } else {\n      if (this.debounceTimeOut === null) {\n        _recalc();\n      }\n      this.debounceTimeOut = setTimeout(function() {\n        _recalc();\n        self.debounceTimeOut = null;\n      }, this.debounceTime);\n    }\n  };\n\n  //适配viewPort\n  //这是一个相当古老的算法了\n  //最早可以追溯到2015年\n  //原版算法已经找不到了\n  //最后只找到了这个被压缩后的版本\n  this.adaptVP = function(d) {\n    var vpObj = document.querySelector(\"meta[name='viewport']\");\n    //关闭viewport适配\n    if (this.viewPortSettings.mode === 'off') {\n      if (vpObj !== null) {\n        vpObj.remove();\n      }\n      return;\n    }\n    //打开viewPort适配但是手动适配\n    if (this.viewPortSettings.mode === 'config') {\n      var vpContent =\n        'width=' +\n        this.viewPortSettings.width +\n        ', initial-scale=' +\n        this.viewPortSettings.initialScale +\n        ',user-scalable=' +\n        this.viewPortSettings.userScalable;\n      if (vpObj !== null) {\n        vpObj.content = vpContent;\n      } else {\n        t =\n          document.querySelector(\"meta[name='viewport']\") ||\n          document.createElement('meta');\n        t.name = 'viewport';\n        t.content = vpContent;\n        a = document.getElementsByTagName('head');\n        if (a.length > 0) {\n          a[0].appendChild(t);\n        }\n      }\n      return;\n    }\n    /* \n    if (vpObj !== null) {\n      var width = '';\n      var arrVp = vpObj.content.split(',');\n      for (let i = 0; i < arrVp.length; i++) {\n        var item = arrVp[i].split('=');\n        if (item[0] === 'width') {\n          width = item[1];\n          break;\n        }\n      }\n\n      if (width === d) {\n        return;\n      }\n    } */\n    function e() {\n      var e, i;\n      return (\n        (o.uWidth = d.uWidth ? d.uWidth : 640),\n        (o.dWidth = d.dWidth\n          ? d.dWidth\n          : window.screen.width || window.screen.availWidth),\n        (o.ratio = window.devicePixelRatio ? window.devicePixelRatio : 1),\n        (o.userAgent = navigator.userAgent),\n        (o.bConsole = d.bConsole ? d.bConsole : !1),\n        d.mode\n          ? void (o.mode = d.mode)\n          : ((e = o.userAgent.match(/Android/i)),\n            void (\n              e &&\n              ((o.mode = 'android-2.2'),\n              (i = o.userAgent.match(/Android\\s(\\d+.\\d+)/i)),\n              i && (i = parseFloat(i[1])),\n              2.2 == i || 2.3 == i\n                ? (o.mode = 'android-2.2')\n                : 4.4 > i\n                ? (o.mode = 'android-dpi')\n                : i >= 4.4 &&\n                  (o.mode =\n                    o.dWidth > o.uWidth ? 'android-dpi' : 'android-scale'))\n            ))\n      );\n    }\n    function getContent() {\n      var e,\n        i,\n        t,\n        a,\n        n = '',\n        r = !1;\n      if (o.userAgent.indexOf('Pixel') !== -1) {\n        o.mode = 'apple';\n      }\n      switch (o.mode) {\n        case 'apple':\n          n =\n            'width=' + self.designWidth + ', user-scalable=no, user-scalable=0';\n          break;\n        case 'android-2.2':\n          d.dWidth ||\n            (o.dWidth =\n              2 == o.ratio\n                ? 720\n                : 1.5 == o.ratio\n                ? 480\n                : 1 == o.ratio\n                ? 320\n                : 0.75 == o.ratio\n                ? 240\n                : 480),\n            (e = window.screen.width || window.screen.availWidth),\n            320 == e ? (o.dWidth = o.ratio * e) : 640 > e && (o.dWidth = e),\n            (o.mode = 'android-dpi'),\n            (r = !0);\n        case 'android-dpi':\n          (i = ((160 * o.uWidth) / o.dWidth) * o.ratio),\n            (n = ' width=' + o.uWidth + ', user-scalable=no'),\n            r && (o.mode = 'android-2.2');\n          break;\n        case 'android-scale':\n          i = ((160 * o.uWidth) / o.dWidth) * o.ratio;\n          n = 'width=' + o.uWidth + ', user-scalable=no';\n      }\n\n      if (vpObj !== null) {\n        vpObj.content = n;\n      } else {\n        t =\n          document.querySelector(\"meta[name='viewport']\") ||\n          document.createElement('meta');\n        t.name = 'viewport';\n        t.content = n;\n        a = document.getElementsByTagName('head');\n        if (a.length > 0) {\n          a[0].appendChild(t);\n        }\n      }\n    }\n    function t() {\n      var d = '';\n      for (key in o) {\n        d += key + ': ' + o[key] + '; ';\n      }\n      //alert(d);\n    }\n    if (d) {\n      var o = {\n        uWidth: 0,\n        dWidth: 0,\n        ratio: 1,\n        mode: 'apple',\n        userAgent: null,\n        bConsole: !1,\n      };\n      e(), getContent(), o.bConsole && t();\n    }\n  };\n};\n\nexport { _mobileAdp };\n","const _mobileAdp=function(e,i){var t=this;this.defaultOptions={fontSize:14,designWidth:1360,designHeight:755,scaleLimit:{enable:!1,maxWidth:1360,minWidth:800,maxHeight:755,minHeight:600},hCallBack:function(){},vCallBack:function(){},mode:\"auto\",debounceTime:500,viewPort:{mode:\"auto\",width:\"device-width\",initialScale:\"1.0\",userScalable:\"yes\"},is_relate_with_devicePixelRatio:!1};var n=function(e,i){for(var t in e=e||{},i)\"object\"==typeof i[t]?e[t]=n(e[t],i[t]):e[t]=i[t];return e};e=n(this.defaultOptions,e),this.fontSize=e.fontSize,this.computedFontSize=0,this.orgFontSize_widthOutRatoComput=0,this.designWidth=e.designWidth,this.designHeight=e.designHeight,this.hCallBack=e.hCallBack,this.vCallBack=e.vCallBack,this.scaleLimit=e.scaleLimit,this.debounceTime=e.debounceTime,this.mode=e.mode,this.is_relate_with_devicePixelRatio=e.is_relate_with_devicePixelRatio,this.state=\"\",this.viewPortSettings=e.viewPort,this.init=function(e){this.adaptVP({uWidth:this.designWidth}),this.adpRem(),void 0!==e&&e()},this.rebind=function(e,i){e=n(this.defaultOptions,e),this.fontSize=e.fontSize,this.designWidth=e.designWidth,this.designHeight=e.designHeight,this.hCallBack=e.hCallBack,this.vCallBack=e.vCallBack,this.scaleLimit=e.scaleLimit,this.mode=e.mode,this.state=\"\",this.init(function(){\"undefined\"!=typeof _callback&&i()})},this.reInit=function(){for(var e=[],n=0;n<i.queryList.length;n++){var d=i.queryList[n],o=!1;d.mediaQuery.screenState===t.state&&(o=!0),o&&e.push(d)}o&&d.mediaQuery.config;var a=window.document.documentElement.clientWidth,s=window.document.documentElement.clientHeight;let h=function(e){return-1===e?9999999999:e};if(void 0!==window._a_d_p_d_lockConfig&&(e=[window._a_d_p_d_lockConfig]),0!==e.length)if(1===e.length)t.rebind(e[0].mediaQuery.config);else{var l=null;for(n=0;n<e.length;n++){var r=e[n];if(void 0!==r.mediaQuery.scope){if(r.mediaQuery.scope.startWidth<=a&&h(r.mediaQuery.scope.endWidth)>a&&r.mediaQuery.scope.startHeight<=s&&h(r.mediaQuery.scope.endHeight)>s){l=r;break}}else l=r}t.rebind(l.mediaQuery.config)}},this.adpRem=function(){!function(e,n){var d=e.documentElement,o=\"orientationchange\"in window?\"orientationchange\":\"resize\",a=function(){var e=d.clientWidth,n=d.clientHeight;if(!0===t.scaleLimit.enable&&(e>t.scaleLimit.maxWidth&&(e=t.scaleLimit.maxWidth),e<t.scaleLimit.minWidth&&(e=t.scaleLimit.minWidth),n>t.scaleLimit.maxHeight&&(n=t.scaleLimit.maxHeight),n<t.scaleLimit.minHeight&&(n=t.scaleLimit.minHeight)),void 0===window._a_d_p_d_lockConfig)if(e>n){if(void 0!==i&&i.hasOwnProperty(\"queryList\")&&\"h\"!==t.state&&\"\"!==t.state)return t.state=\"h\",void t.reInit();t.state=\"h\",t.hCallBack(t)}else{if(void 0!==i&&i.hasOwnProperty(\"queryList\")&&\"v\"!==t.state&&\"\"!==t.state)return t.state=\"v\",void t.reInit();t.state=\"v\",t.vCallBack(t)}var o=null;if(e){var a=t.designWidth/t.designHeight,s=e/n,h=0,l=function(){o=e,h=t.fontSize*(o/t.designWidth)},r=function(){o=n,h=t.fontSize*(o/t.designHeight)};\"auto\"===t.mode?a<s?r():l():\"width\"===t.mode?l():\"height\"===t.mode&&r();var c=Number((h*t.getDevicePixelRatio()).toFixed(1));document.documentElement.style.fontSize=c+\"px\",t.computedFontSize=c,t.orgFontSize_widthOutRatoComput=Number(h.toFixed(1))}};let s=function(){t.debounceSetFontSize(a)};e.addEventListener&&(n.addEventListener(o,s,!1),e.addEventListener(\"DOMContentLoaded\",s,!1),t.distory=function(){clearTimeout(t.debounceTimeOut),n.removeEventListener(o,s),e.removeEventListener(\"DOMContentLoaded\",s)},s())}(document,window)},this.debounceTimeOut=null,this.getDevicePixelRatio=function(){return this.is_relate_with_devicePixelRatio&&\"undefined\"!=typeof window&&void 0!==window.devicePixelRatio?Number((window.outerWidth/window.innerWidth).toFixed(2)):1},this.debounceSetFontSize=function(e){null!==this.debounceTimeOut&&clearTimeout(this.debounceTimeOut),this.debounceTime<=0?e():(null===this.debounceTimeOut&&e(),this.debounceTimeOut=setTimeout(function(){e(),t.debounceTimeOut=null},this.debounceTime))},this.adaptVP=function(e){var i=document.querySelector(\"meta[name='viewport']\");if(\"off\"!==this.viewPortSettings.mode)if(\"config\"!==this.viewPortSettings.mode){if(e){var n={uWidth:0,dWidth:0,ratio:1,mode:\"apple\",userAgent:null,bConsole:!1};n.uWidth=e.uWidth?e.uWidth:640,n.dWidth=e.dWidth?e.dWidth:window.screen.width||window.screen.availWidth,n.ratio=window.devicePixelRatio?window.devicePixelRatio:1,n.userAgent=navigator.userAgent,n.bConsole=!!e.bConsole&&e.bConsole,e.mode?n.mode=e.mode:n.userAgent.match(/Android/i)&&(n.mode=\"android-2.2\",(d=n.userAgent.match(/Android\\s(\\d+.\\d+)/i))&&(d=parseFloat(d[1])),2.2==d||2.3==d?n.mode=\"android-2.2\":4.4>d?n.mode=\"android-dpi\":d>=4.4&&(n.mode=n.dWidth>n.uWidth?\"android-dpi\":\"android-scale\")),function(){var d,o,a,s=\"\",h=!1;switch(-1!==n.userAgent.indexOf(\"Pixel\")&&(n.mode=\"apple\"),n.mode){case\"apple\":s=\"width=\"+t.designWidth+\", user-scalable=no, user-scalable=0\";break;case\"android-2.2\":e.dWidth||(n.dWidth=2==n.ratio?720:1.5==n.ratio?480:1==n.ratio?320:.75==n.ratio?240:480),320==(d=window.screen.width||window.screen.availWidth)?n.dWidth=n.ratio*d:640>d&&(n.dWidth=d),n.mode=\"android-dpi\",h=!0;case\"android-dpi\":n.uWidth,n.dWidth,n.ratio,s=\" width=\"+n.uWidth+\", user-scalable=no\",h&&(n.mode=\"android-2.2\");break;case\"android-scale\":n.uWidth,n.dWidth,n.ratio,s=\"width=\"+n.uWidth+\", user-scalable=no\"}null!==i?i.content=s:((o=document.querySelector(\"meta[name='viewport']\")||document.createElement(\"meta\")).name=\"viewport\",o.content=s,(a=document.getElementsByTagName(\"head\")).length>0&&a[0].appendChild(o))}(),n.bConsole&&s()}var d}else{var o=\"width=\"+this.viewPortSettings.width+\", initial-scale=\"+this.viewPortSettings.initialScale+\",user-scalable=\"+this.viewPortSettings.userScalable;null!==i?i.content=o:((s=document.querySelector(\"meta[name='viewport']\")||document.createElement(\"meta\")).name=\"viewport\",s.content=o,a=document.getElementsByTagName(\"head\"),a.length>0&&a[0].appendChild(s))}else null!==i&&i.remove();function s(){for(key in n)key+\": \"+n[key]+\"; \"}}};export{_mobileAdp};","/**\n * 本文件为分辨率适配钩子\n * 廖力编写 2022/03/28\n */\nimport React, { useState, useEffect, createContext, useContext } from 'react';\nimport { ReactElement } from 'react';\nimport {\n  Iconfig,\n  EresoMode,\n  Ireso,\n  IconfigMutiple,\n  Imq,\n  EscreenState,\n} from './iReso';\nimport { _mobileAdp } from './mobileAdp';\nimport { _mobileAdp as _mobileAdpMin } from './mobileAdp_min';\nimport useJquery, { isRunningInServer } from '@bobliao/use-jquery-hook';\nimport { Helmet } from 'react-helmet';\n//import requireContext from 'require-context.macro';\nimport codeStringify from 'code-stringify';\n\nexport type config = Iconfig | IconfigMutiple;\n\n/**\n * 创建一个需要全局使用的context\n **/\nconst resoContext = createContext<Ireso>({} as Ireso);\n\nconst useReso = function(\n  config: config = {\n    //页面字体基准是14像素\n    fontSize: 14,\n    //设计稿宽度/高度\n    designWidth: 1360,\n    designHeight: 755,\n    //缩放限制参数\n    //用于限制页面的缩放大小\n    scaleLimit: {\n      enable: false,\n      maxWidth: 1360,\n      minWidth: 800,\n      maxHeight: 755,\n      minHeight: 600,\n    },\n    //横屏回调函数\n    hCallBack: function() {},\n    //竖屏回调函数\n    vCallBack: function() {},\n    //调整模式\n    mode: EresoMode.AUTO,\n    //viewPort配置\n    viewPort: {\n      //auto | config | off\n      mode: 'auto',\n    },\n    is_relate_with_devicePixelRatio: false,\n  }\n): Ireso {\n  const $ = useJquery();\n  const [screenState, setscreenState] = useState<EscreenState>(\n    EscreenState.HORIZONTAL\n  );\n\n  /**\n   * 适配\n   */\n  const makeReso = function(_config, _testState) {\n    //let context = requireContext(\"../nativeComs/\", false, /mobileAdp.js/);\n    //let modul = context(\"./mobileAdp.js\");\n    let mobileAdp: any = new _mobileAdp(_config, config);\n    let helTags: ReactElement;\n    let injectElements: ReactElement;\n    let scrStr: string = '';\n    if (!isRunningInServer) {\n      //如果是运行在客户端上面就直接初始化\n      if (typeof window['_a_d_p_d'] !== 'undefined') {\n        if (typeof window['_a_d_p_d']['distory'] !== 'undefined') {\n          window['_a_d_p_d']['distory']();\n        }\n      }\n      mobileAdp.init();\n    }\n    /* let UglifyJS = require('uglify-js'); */\n    var codeString = codeStringify(_mobileAdpMin);\n\n    scrStr =\n      ` window.__m_adp__ = ` +\n      codeString +\n      `;var _adp_config = ` +\n      JSON.stringify(config) +\n      `;if(_adp_config.hasOwnProperty(\"queryList\")){var clientWidth=window.document.documentElement.clientWidth,windowHeight=window.document.documentElement.clientHeight,testState=\"h\";testState=clientWidth>windowHeight?\"h\":\"v\";for(var i=0;i<_adp_config.queryList.length;i++){var _item=_adp_config.queryList[i],_index=i,isCondition=!1;if(_item.mediaQuery.screenState===testState&&(isCondition=!0),isCondition){_item.mediaQuery.config.debounceTime=0,window._a_d_p_d=new __m_adp__(_item.mediaQuery.config,_adp_config),window._a_d_p_d.init();break}}}else _adp_config.debounceTime=0,window._a_d_p_d=new __m_adp__(_adp_config),window._a_d_p_d.init();`;\n    /*       let code = { 'reso.js': scrStr };\n      scrStr = UglifyJS.minify(code).code; */\n    injectElements = <script id=\"_a_d_p_\">{scrStr}</script>;\n    //如果是运行在服务端上面就写入一段原生代码,让分辨率适配在网页加载的第一时间进行适配\n    //如果这里不进行适配,那么在网页加载的第一时间,客户端代码还没注入的时候,页面将会抽搐一下,\n    //等客户端代码完全运行完成后,页面分辨率才会被适配到适合的样子,加入这段代码后,页面在到达浏览器的第一时间就可以开始适配的分辨率\n    helTags = <Helmet>{injectElements}</Helmet>;\n\n    return {\n      data: { helTags: helTags, elemsnts: injectElements, scriptStr: scrStr },\n      funcs: mobileAdp,\n      screenState: screenState,\n      width: mobileAdp.designWidth,\n      height: mobileAdp.designHeight,\n      fontSize: mobileAdp.computedFontSize,\n      fontSize_org: mobileAdp.orgFontSize_widthOutRatoComput,\n      current_pixRato: (function() {\n        if (isRunningInServer) {\n          return 1;\n        } else {\n          return mobileAdp.getDevicePixelRatio();\n        }\n      })(),\n    };\n  };\n\n  var clientWidth: number = 1920;\n  var windowHeight: number = 1080;\n  var testState: EscreenState = EscreenState.HORIZONTAL;\n\n  if (clientWidth > windowHeight) {\n    testState = EscreenState.HORIZONTAL;\n  } else {\n    testState = EscreenState.VERTICAL;\n  }\n\n  const testStateFunc = function(_isSetState: boolean) {\n    clientWidth = window.document.documentElement.clientWidth;\n    windowHeight = window.document.documentElement.clientHeight;\n\n    if (clientWidth > windowHeight) {\n      testState = EscreenState.HORIZONTAL;\n    } else {\n      testState = EscreenState.VERTICAL;\n    }\n\n    if (\n      _isSetState === true &&\n      typeof window['_a_d_p_d_lockConfig'] !== 'undefined'\n    ) {\n      setscreenState(window['_a_d_p_d_lockConfig'].mediaQuery.screenState);\n    } else if (_isSetState === true) {\n      setscreenState(testState);\n    }\n  };\n\n  if (!isRunningInServer) {\n    const st = function() {\n      testStateFunc(true);\n    };\n    useEffect(function(): ReturnType<React.EffectCallback> {\n      $(window).resize(st);\n      testStateFunc(true);\n      return function(): void {\n        $(window).unbind('resize', st);\n      };\n    }, []);\n    testStateFunc(false);\n  }\n\n  let getEnd = function(_ed: number): number {\n    if (_ed === -1) {\n      return 9999999999;\n    } else {\n      return _ed;\n    }\n  };\n\n  /**\n   * 如果是多条参数适配\n   */\n  if (config.hasOwnProperty('queryList')) {\n    config = config as IconfigMutiple;\n    if (!isRunningInServer) {\n      if (typeof window['_a_d_p_d'] !== 'undefined') {\n        if (typeof window['_a_d_p_d']['distory'] !== 'undefined') {\n          window['_a_d_p_d']['distory']();\n        }\n      }\n\n      //如果在内存里找到已经缓存好的屏幕状态配置，就直接使用这个配置，不要重新适配\n      if (typeof window['_a_d_p_d_lockConfig'] !== 'undefined') {\n        return makeReso(\n          window['_a_d_p_d_lockConfig'].mediaQuery.config,\n          window['_a_d_p_d_lockConfig'].mediaQuery.screenState\n        );\n      }\n\n      var result: any = null;\n      var findedResoList: Array<Imq> = [];\n      for (var i = 0; i < config.queryList.length; i++) {\n        var _item: Imq = config.queryList[i];\n        var isCondition: boolean = false;\n        if (_item.mediaQuery.screenState === testState) {\n          isCondition = true;\n          //是否锁定到该条件\n          if (_item.mediaQuery.lock === true) {\n            window['_a_d_p_d_lockConfig'] = _item;\n          }\n        }\n        if (isCondition) {\n          findedResoList.push(_item);\n        }\n      }\n      if (findedResoList.length !== 0) {\n        if (findedResoList.length === 1) {\n          result = makeReso(findedResoList[0].mediaQuery.config, testState);\n        } else {\n          var last: Imq = null;\n          for (var i = 0; i < findedResoList.length; i++) {\n            var citem: Imq = findedResoList[i];\n            if (typeof citem.mediaQuery.scope !== 'undefined') {\n              if (\n                citem.mediaQuery.scope.startWidth <= clientWidth &&\n                getEnd(citem.mediaQuery.scope.endWidth) > clientWidth &&\n                citem.mediaQuery.scope.startHeight <= windowHeight &&\n                getEnd(citem.mediaQuery.scope.endHeight) > windowHeight\n              ) {\n                last = citem;\n                break;\n              }\n            } else {\n              last = citem;\n            }\n          }\n          result = makeReso(last.mediaQuery.config, testState);\n        }\n      }\n\n      return result;\n    } else {\n      return makeReso(config.queryList[0].mediaQuery.config, testState);\n    }\n  } else {\n    return makeReso(config, testState);\n  }\n};\n\nlet useResoContext = function(): Ireso {\n  var r: Ireso = useContext(resoContext);\n  return r;\n};\n\nexport { useReso as default, _mobileAdp, resoContext, useResoContext };\n","import useReso, { _mobileAdp,resoContext, useResoContext } from './resoHook';\nexport type { Ireso, Iconfig, IconfigMutiple, Imq, queryItem } from './iReso';\n/**\n * 屏幕状态\n */\nexport enum EscreenState {\n\t/**\n\t * 横向屏幕\n\t */\n\tHORIZONTAL = \"h\",\n\t/**\n\t * 竖屏显示\n\t */\n\tVERTICAL = \"v\",\n}\n\n/**\n * 设置分辨率适配器的工作模式\n */\nexport enum EresoMode {\n\t/**\n\t * auto:自动选择高度还是宽度来调整\n\t */\n\tAUTO = \"auto\",\n\t/**\n\t * width:只通过宽度调整\n\t */\n\tWIDTH = \"width\",\n\t/**\n\t * height:只通过高度调整\n\t */\n\tHEIGHT = \"height\",\n}\n\nexport { useReso, _mobileAdp,resoContext, useResoContext };\n"],"names":["EresoMode","EscreenState","_mobileAdp","_options","_mOptions","self","defaultOptions","fontSize","designWidth","designHeight","scaleLimit","enable","maxWidth","minWidth","maxHeight","minHeight","hCallBack","vCallBack","mode","debounceTime","viewPort","width","initialScale","userScalable","is_relate_with_devicePixelRatio","extend","target","source","prop","computedFontSize","orgFontSize_widthOutRatoComput","state","viewPortSettings","init","_callback","adaptVP","uWidth","adpRem","rebind","_callBack","reInit","findedResoList","i","queryList","length","_item","isCondition","mediaQuery","screenState","push","clientWidth","window","document","documentElement","windowHeight","clientHeight","getEnd","_ed","config","last","citem","scope","startWidth","endWidth","startHeight","endHeight","doc","win","docEl","resizeEvt","recalc","hasOwnProperty","compTarget","orgPre","currPre","res","adWidth","adHeight","fSize","Number","getDevicePixelRatio","toFixed","style","resizeF","debounceSetFontSize","addEventListener","distory","clearTimeout","debounceTimeOut","removeEventListener","devicePixelRatio","outerWidth","innerWidth","_recalc","setTimeout","d","vpObj","querySelector","remove","vpContent","content","t","createElement","name","a","getElementsByTagName","appendChild","e","o","dWidth","screen","availWidth","ratio","userAgent","navigator","bConsole","match","parseFloat","getContent","n","r","indexOf","key","s","h","_a_d_p_d_lockConfig","l","c","resoContext","createContext","useReso","AUTO","$","useJquery","useState","HORIZONTAL","setscreenState","makeReso","_config","_testState","mobileAdp","helTags","injectElements","scrStr","isRunningInServer","codeString","codeStringify","_mobileAdpMin","JSON","stringify","React","id","Helmet","data","elemsnts","scriptStr","funcs","height","fontSize_org","current_pixRato","testState","VERTICAL","testStateFunc","_isSetState","st","useEffect","resize","unbind","result","lock","useResoContext","useContext"],"mappings":"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"}