{"version":3,"file":"reso-hook.cjs.development.js","sources":["../src/iReso.ts","../src/mobileAdp.js","../src/resoHook.tsx","../src/index.ts"],"sourcesContent":["import { ReactElement } from 'react';\r\n/**\r\n * useReso 钩子返回的东西\r\n */\r\nexport interface Ireso {\r\n  /**\r\n   * 数据\r\n   */\r\n  data: {\r\n    /**\r\n     * 用于服务器端渲染时,进行分辨率预计算的写入元素\r\n     */\r\n    helTags: ReactElement;\r\n    /**\r\n     * 剥离了Helmet的版本\r\n     */\r\n    elemsnts: ReactElement;\r\n  };\r\n  /**\r\n   * 返回初始化好的mobileAdp对象\r\n   */\r\n  funcs: any;\r\n  /**\r\n   * 屏幕状态\r\n   */\r\n  screenState: EscreenState;\r\n}\r\n\r\n/**\r\n * 设置分辨率适配器的工作模式\r\n */\r\nexport enum EresoMode {\r\n  /**\r\n   * auto:自动选择高度还是宽度来调整\r\n   */\r\n  AUTO = 'auto',\r\n  /**\r\n   * width:只通过宽度调整\r\n   */\r\n  WIDTH = 'width',\r\n  /**\r\n   * height:只通过高度调整\r\n   */\r\n  HEIGHT = 'height',\r\n}\r\n\r\n/**\r\n * 用于分辨率适配器的参数\r\n */\r\nexport interface Iconfig {\r\n  /**\r\n   * 页面字体基准\r\n   */\r\n  fontSize: number;\r\n  /**\r\n   * 设计稿的宽度\r\n   */\r\n  designWidth: number;\r\n  /**\r\n   * 设计稿的高度\r\n   */\r\n  designHeight: number;\r\n  /**\r\n   * 缩放限制参数\r\n   * 用于限制页面的缩放大小\r\n   */\r\n  scaleLimit?: {\r\n    /**\r\n     * 是否打开缩放限制\r\n     */\r\n    enable: boolean;\r\n    /**\r\n     * 最大的宽度限制\r\n     */\r\n    maxWidth?: number;\r\n    /**\r\n     * 最小的宽度限制\r\n     */\r\n    minWidth?: number;\r\n    /**\r\n     * 最大的高度\r\n     */\r\n    maxHeight?: number;\r\n    /**\r\n     * 最小的高度\r\n     */\r\n    minHeight?: number;\r\n  };\r\n  /**\r\n   * 横屏回调函数\r\n   */\r\n  hCallBack?: Function;\r\n  /**\r\n   * 竖屏回调函数\r\n   */\r\n  vCallBack?: Function;\r\n  /**\r\n   * 调整模式\r\n   */\r\n  mode?: EresoMode;\r\n  /**\r\n   * 防抖时间\r\n   */\r\n  debounceTime?: number;\r\n}\r\n\r\n/**\r\n * 用于分辨率适配器的参数\r\n * 多参数适配\r\n */\r\nexport interface IconfigMutiple {\r\n  /**\r\n   * 查询条件\r\n   */\r\n  queryList: Array<Imq>;\r\n}\r\n\r\nexport interface Imq {\r\n  /**\r\n   * 查询当前窗体的宽度例如\r\n   * '(min-width: 1824px)'\r\n   * '(max-width: 1224px)'\r\n   * 符合条件的就使用config来进行适配\r\n   */\r\n  mediaQuery: {\r\n    /**\r\n     * 查询条件\r\n     */\r\n    screenState: EscreenState;\r\n    /**\r\n     * 范围控制\r\n     */\r\n    scope?: queryItem;\r\n    /**\r\n     * 适配参数\r\n     */\r\n    config: Iconfig;\r\n  };\r\n}\r\n\r\n/**\r\n * 屏幕状态\r\n */\r\nexport enum EscreenState {\r\n  /**\r\n   * 横向屏幕\r\n   */\r\n  HORIZONTAL = 'h',\r\n  /**\r\n   * 竖屏显示\r\n   */\r\n  VERTICAL = 'v',\r\n}\r\n\r\n/**\r\n * 屏幕比例适配\r\n */\r\nexport interface queryItem {\r\n  /**\r\n   * 开始宽度\r\n   */\r\n  startWidth: number;\r\n  /**\r\n   * 结束宽度\r\n   * -1表示无限大\r\n   */\r\n  endWidth: number;\r\n  /**\r\n   * 开始高度\r\n   */\r\n  startHeight: number;\r\n  /**\r\n   * 结束高度\r\n   * -1表示无限大\r\n   */\r\n  endHeight: number;\r\n}\r\n","/*!\r\n * mobileAdp.js\r\n * (c) 2015-2021 bobliao\r\n * Released under the MIT License.\r\n */\r\n\r\n/*\r\n * 移动端界面比例适配器\r\n * 廖力编写\r\n * 2021年总汇版本\r\n * 本适配器可以不依赖任何库直接运行\r\n * 建议在页面加载进来的第一时间完成适配\r\n * 免得界面渲染完成后再适配引起页面抖动\r\n */\r\nconst _mobileAdp = function(_options, _mOptions) {\r\n  var self = this;\r\n\r\n  this.defaultOptions = {\r\n    //页面字体基准是14像素\r\n    fontSize: 14,\r\n    //设计稿宽度/高度\r\n    designWidth: 1360,\r\n    designHeight: 755,\r\n    //缩放限制参数\r\n    //用于限制页面的缩放大小\r\n    scaleLimit: {\r\n      enable: false,\r\n      maxWidth: 1360,\r\n      minWidth: 800,\r\n      maxHeight: 755,\r\n      minHeight: 600,\r\n    },\r\n    //横屏回调函数\r\n    hCallBack: function() {},\r\n    //竖屏回调函数\r\n    vCallBack: function() {},\r\n    //调整模式\r\n    //auto:自动选择高度还是宽度来调整\r\n    //width:只通过宽度调整\r\n    //height:只通过高度调整\r\n    mode: 'auto',\r\n    //防抖时间\r\n    debounceTime: 500,\r\n  };\r\n\r\n  //拷贝函数\r\n  var extend = function(target, source) {\r\n    target = target || {};\r\n    for (var prop in source) {\r\n      if (typeof source[prop] === 'object') {\r\n        target[prop] = extend(target[prop], source[prop]);\r\n      } else {\r\n        target[prop] = source[prop];\r\n      }\r\n    }\r\n    return target;\r\n  };\r\n\r\n  _options = extend(this.defaultOptions, _options);\r\n\r\n  //rem相对字体大小起始大小\r\n  //单位像素\r\n  this.fontSize = _options.fontSize;\r\n  //设计稿宽度\r\n  this.designWidth = _options.designWidth;\r\n  //设计稿高度\r\n  this.designHeight = _options.designHeight;\r\n\r\n  //横屏回调函数\r\n  this.hCallBack = _options.hCallBack;\r\n\r\n  //竖屏回调函数\r\n  this.vCallBack = _options.vCallBack;\r\n\r\n  //大小限制选项\r\n  this.scaleLimit = _options.scaleLimit;\r\n\r\n  //防抖时间\r\n  this.debounceTime = _options.debounceTime;\r\n\r\n  ///调整模式\r\n  //auto:自动选择高度还是宽度来调整\r\n  //width:只通过宽度调整\r\n  //height:只通过高度调整,\r\n  this.mode = _options.mode;\r\n\r\n  //指示当前是横屏还是竖屏\r\n  this.state = '';\r\n\r\n  //初始化\r\n  this.init = function(_callback) {\r\n    //先适配viewPort\r\n    this.adaptVP({ uWidth: this.designWidth });\r\n    //然后再适配rem\r\n    this.adpRem();\r\n\r\n    if (typeof _callback !== 'undefined') {\r\n      _callback();\r\n    }\r\n  };\r\n\r\n  //重新调整\r\n  this.rebind = function(_options, _callBack) {\r\n    _options = extend(this.defaultOptions, _options);\r\n    //rem相对字体大小起始大小\r\n    //单位像素\r\n    this.fontSize = _options.fontSize;\r\n    //设计稿宽度\r\n    this.designWidth = _options.designWidth;\r\n    //设计稿高度\r\n    this.designHeight = _options.designHeight;\r\n\r\n    //横屏回调函数\r\n    this.hCallBack = _options.hCallBack;\r\n\r\n    //竖屏回调函数\r\n    this.vCallBack = _options.vCallBack;\r\n\r\n    //大小限制选项\r\n    this.scaleLimit = _options.scaleLimit;\r\n\r\n    ///调整模式\r\n    //auto:自动选择高度还是宽度来调整\r\n    //width:只通过宽度调整\r\n    //height:只通过高度调整,\r\n    this.mode = _options.mode;\r\n\r\n    //指示当前是横屏还是竖屏\r\n    this.state = '';\r\n    this.init(function() {\r\n      if (typeof _callback !== 'undefined') {\r\n        _callBack();\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * 重新初始化\r\n   */\r\n  this.reInit = function() {\r\n    var findedResoList = [];\r\n    for (var i = 0; i < _mOptions.queryList.length; i++) {\r\n      var _item = _mOptions.queryList[i];\r\n      var isCondition = false;\r\n      if (_item.mediaQuery.screenState === self.state) {\r\n        isCondition = true;\r\n      }\r\n      if (isCondition) {\r\n        findedResoList.push(_item);\r\n      }\r\n    }\r\n    if (isCondition) {\r\n      _item.mediaQuery.config;\r\n    }\r\n    var clientWidth = window.document.documentElement.clientWidth;\r\n    var windowHeight = window.document.documentElement.clientHeight;\r\n    if (findedResoList.length !== 0) {\r\n      if (findedResoList.length === 1) {\r\n        self.rebind(findedResoList[0].mediaQuery.config);\r\n      } else {\r\n        var last = null;\r\n        for (var i = 0; i < findedResoList.length; i++) {\r\n          var citem = findedResoList[i];\r\n          if (typeof citem.mediaQuery.scope !== 'undefined') {\r\n            if (\r\n              citem.mediaQuery.scope.startWidth <= clientWidth &&\r\n              getEnd(citem.mediaQuery.scope.endWidth) > clientWidth &&\r\n              citem.mediaQuery.scope.startHeight <= windowHeight &&\r\n              getEnd(citem.mediaQuery.scope.endHeight) > windowHeight\r\n            ) {\r\n              last = citem;\r\n              break;\r\n            }\r\n          } else {\r\n            last = citem;\r\n          }\r\n        }\r\n        self.rebind(last.mediaQuery.config);\r\n      }\r\n    }\r\n  };\r\n\r\n  //适配rem算法\r\n  //这个算法还保留在以前的代码里\r\n  //这个的话最早可以追溯到2016年\r\n  this.adpRem = function() {\r\n    //适配rem的算法\r\n    (function(doc, win) {\r\n      var docEl = doc.documentElement,\r\n        resizeEvt =\r\n          'orientationchange' in window ? 'orientationchange' : 'resize',\r\n        recalc = function() {\r\n          //document.body.style.display = \"none\";\r\n          var clientWidth = docEl.clientWidth;\r\n          var windowHeight = docEl.clientHeight;\r\n          //document.body.style.display = \"\";\r\n\r\n          //应用大小限制选项\r\n          if (self.scaleLimit.enable === true) {\r\n            if (clientWidth > self.scaleLimit.maxWidth) {\r\n              clientWidth = self.scaleLimit.maxWidth;\r\n            }\r\n            if (clientWidth < self.scaleLimit.minWidth) {\r\n              clientWidth = self.scaleLimit.minWidth;\r\n            }\r\n            if (windowHeight > self.scaleLimit.maxHeight) {\r\n              windowHeight = self.scaleLimit.maxHeight;\r\n            }\r\n            if (windowHeight < self.scaleLimit.minHeight) {\r\n              windowHeight = self.scaleLimit.minHeight;\r\n            }\r\n          }\r\n\r\n          if (clientWidth > windowHeight) {\r\n            if (\r\n              typeof _mOptions !== 'undefined' &&\r\n              _mOptions.hasOwnProperty('queryList')\r\n            ) {\r\n              if (self.state !== 'h' && self.state !== '') {\r\n                self.state = 'h';\r\n                self.reInit();\r\n                return;\r\n              }\r\n            }\r\n\r\n            self.state = 'h';\r\n            self.hCallBack(self);\r\n          } else {\r\n            if (\r\n              typeof _mOptions !== 'undefined' &&\r\n              _mOptions.hasOwnProperty('queryList')\r\n            ) {\r\n              if (self.state !== 'v' && self.state !== '') {\r\n                self.state = 'v';\r\n                self.reInit();\r\n                return;\r\n              }\r\n            }\r\n            self.state = 'v';\r\n            self.vCallBack(self);\r\n          }\r\n\r\n          var compTarget = null;\r\n          if (!clientWidth) return;\r\n          //原始比例\r\n          var orgPre = self.designWidth / self.designHeight;\r\n          var currPre = clientWidth / windowHeight;\r\n          var res = 0;\r\n\r\n          var adWidth = function() {\r\n            //console.log('用宽度调整字体')\r\n            compTarget = clientWidth;\r\n            //计算设计字体大小和实际字体大小的比例关系\r\n            res = self.fontSize * (compTarget / self.designWidth);\r\n          };\r\n\r\n          var adHeight = function() {\r\n            //console.log('用高度调整字体')\r\n            compTarget = windowHeight;\r\n            //计算设计字体大小和实际字体大小的比例关系\r\n            res = self.fontSize * (compTarget / self.designHeight);\r\n          };\r\n\r\n          if (self.mode === 'auto') {\r\n            if (orgPre < currPre) {\r\n              adHeight();\r\n            } else {\r\n              adWidth();\r\n            }\r\n          } else if (self.mode === 'width') {\r\n            adWidth();\r\n          } else if (self.mode === 'height') {\r\n            adHeight();\r\n          }\r\n          docEl.style.fontSize = res + 'px';\r\n        };\r\n\r\n      let resizeF = function() {\r\n        self.debounceSetFontSize(recalc);\r\n      };\r\n      /*\r\n            window.onload = recalc;\r\n            */\r\n      if (!doc.addEventListener) return;\r\n      win.addEventListener(resizeEvt, resizeF, false);\r\n      doc.addEventListener('DOMContentLoaded', resizeF, false);\r\n      self.distory = function() {\r\n        win.removeEventListener(resizeEvt, resizeF);\r\n        doc.removeEventListener('DOMContentLoaded', resizeF);\r\n      };\r\n      resizeF();\r\n    })(document, window);\r\n  };\r\n\r\n  this.debounceTimeOut = null;\r\n\r\n  /**\r\n   * 设置字体大小的时候进行防抖处理\r\n   *  */\r\n  this.debounceSetFontSize = function(_recalc) {\r\n    if (this.debounceTimeOut !== null) {\r\n      clearTimeout(this.debounceTimeOut);\r\n    }\r\n    if (this.debounceTime <= 0) {\r\n      _recalc();\r\n    } else {\r\n      this.debounceTimeOut = setTimeout(function() {\r\n        _recalc();\r\n        this.debounceTimeOut = null;\r\n      }, this.debounceTime);\r\n    }\r\n  };\r\n\r\n  //适配viewPort\r\n  //这是一个相当古老的算法了\r\n  //最早可以追溯到2015年\r\n  //原版算法已经找不到了\r\n  //最后只找到了这个被压缩后的版本\r\n  this.adaptVP = function(d) {\r\n    function e() {\r\n      var e, i;\r\n      return (\r\n        (o.uWidth = d.uWidth ? d.uWidth : 640),\r\n        (o.dWidth = d.dWidth\r\n          ? d.dWidth\r\n          : window.screen.width || window.screen.availWidth),\r\n        (o.ratio = window.devicePixelRatio ? window.devicePixelRatio : 1),\r\n        (o.userAgent = navigator.userAgent),\r\n        (o.bConsole = d.bConsole ? d.bConsole : !1),\r\n        d.mode\r\n          ? void (o.mode = d.mode)\r\n          : ((e = o.userAgent.match(/Android/i)),\r\n            void (\r\n              e &&\r\n              ((o.mode = 'android-2.2'),\r\n              (i = o.userAgent.match(/Android\\s(\\d+.\\d+)/i)),\r\n              i && (i = parseFloat(i[1])),\r\n              2.2 == i || 2.3 == i\r\n                ? (o.mode = 'android-2.2')\r\n                : 4.4 > i\r\n                ? (o.mode = 'android-dpi')\r\n                : i >= 4.4 &&\r\n                  (o.mode =\r\n                    o.dWidth > o.uWidth ? 'android-dpi' : 'android-scale'))\r\n            ))\r\n      );\r\n    }\r\n    function i() {\r\n      var e,\r\n        i,\r\n        t,\r\n        a,\r\n        n = '',\r\n        r = !1;\r\n      if (o.userAgent.indexOf('Pixel') !== -1) {\r\n        o.mode = 'apple';\r\n      }\r\n      switch (o.mode) {\r\n        case 'apple':\r\n          n =\r\n            'width=' + self.designWidth + ', user-scalable=no, user-scalable=0';\r\n          break;\r\n        case 'android-2.2':\r\n          d.dWidth ||\r\n            (o.dWidth =\r\n              2 == o.ratio\r\n                ? 720\r\n                : 1.5 == o.ratio\r\n                ? 480\r\n                : 1 == o.ratio\r\n                ? 320\r\n                : 0.75 == o.ratio\r\n                ? 240\r\n                : 480),\r\n            (e = window.screen.width || window.screen.availWidth),\r\n            320 == e ? (o.dWidth = o.ratio * e) : 640 > e && (o.dWidth = e),\r\n            (o.mode = 'android-dpi'),\r\n            (r = !0);\r\n        case 'android-dpi':\r\n          (i = ((160 * o.uWidth) / o.dWidth) * o.ratio),\r\n            (n =\r\n              'target-densitydpi=' +\r\n              i +\r\n              ', width=' +\r\n              o.uWidth +\r\n              ', user-scalable=no'),\r\n            r && (o.mode = 'android-2.2');\r\n          break;\r\n        case 'android-scale':\r\n          //n = \"width=\" + o.uWidth + \", user-scalable=no\";\r\n          i = ((160 * o.uWidth) / o.dWidth) * o.ratio;\r\n          n =\r\n            'target-densitydpi=' +\r\n            i +\r\n            ', width=' +\r\n            o.uWidth +\r\n            ', user-scalable=no';\r\n      }\r\n      t =\r\n        document.querySelector(\"meta[name='viewport']\") ||\r\n        document.createElement('meta');\r\n      t.name = 'viewport';\r\n      t.content = n;\r\n      a = document.getElementsByTagName('head');\r\n      if (a.length > 0) {\r\n        a[0].appendChild(t);\r\n      }\r\n    }\r\n    function t() {\r\n      var d = '';\r\n      for (key in o) {\r\n        d += key + ': ' + o[key] + '; ';\r\n      }\r\n      //alert(d);\r\n    }\r\n    if (d) {\r\n      var o = {\r\n        uWidth: 0,\r\n        dWidth: 0,\r\n        ratio: 1,\r\n        mode: 'apple',\r\n        userAgent: null,\r\n        bConsole: !1,\r\n      };\r\n      e(), i(), o.bConsole && t();\r\n    }\r\n  };\r\n};\r\n\r\nexport { _mobileAdp };\r\n","/**\r\n * 本文件为分辨率适配钩子\r\n * 廖力编写 2022/03/28\r\n */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { ReactElement } from 'react';\r\nimport {\r\n  Iconfig,\r\n  EresoMode,\r\n  Ireso,\r\n  IconfigMutiple,\r\n  Imq,\r\n  EscreenState,\r\n} from './iReso';\r\nimport { _mobileAdp } from './mobileAdp';\r\nimport useJquery, { isRunningInServer } from '@bobliao/use-jquery-hook';\r\nimport { Helmet } from 'react-helmet';\r\n//import requireContext from 'require-context.macro';\r\nconst codeStringify = require('code-stringify');\r\n\r\nexport type config = Iconfig | IconfigMutiple;\r\n\r\nconst useReso = function(\r\n  config: config = {\r\n    //页面字体基准是14像素\r\n    fontSize: 14,\r\n    //设计稿宽度/高度\r\n    designWidth: 1360,\r\n    designHeight: 755,\r\n    //缩放限制参数\r\n    //用于限制页面的缩放大小\r\n    scaleLimit: {\r\n      enable: false,\r\n      maxWidth: 1360,\r\n      minWidth: 800,\r\n      maxHeight: 755,\r\n      minHeight: 600,\r\n    },\r\n    //横屏回调函数\r\n    hCallBack: function() {},\r\n    //竖屏回调函数\r\n    vCallBack: function() {},\r\n    //调整模式\r\n    mode: EresoMode.AUTO,\r\n  }\r\n): Ireso {\r\n  const $ = useJquery();\r\n  const [screenState, setscreenState] = useState<EscreenState>(\r\n    EscreenState.HORIZONTAL\r\n  );\r\n  /**\r\n   * 适配\r\n   */\r\n  const makeReso = function(_config, _testState) {\r\n    //let context = requireContext(\"../nativeComs/\", false, /mobileAdp.js/);\r\n    //let modul = context(\"./mobileAdp.js\");\r\n    let ___mobileAdp = _mobileAdp;\r\n    let mobileAdp: any = new _mobileAdp(_config, config);\r\n    let helTags: ReactElement;\r\n    let injectElements: ReactElement;\r\n    if (!isRunningInServer) {\r\n      //如果是运行在客户端上面就直接初始化\r\n      if (typeof window['_a_d_p_d'] !== 'undefined') {\r\n        $('[name=viewport]').remove();\r\n        if (typeof window['_a_d_p_d']['distory'] !== 'undefined') {\r\n          window['_a_d_p_d']['distory']();\r\n        }\r\n      }\r\n      mobileAdp.init();\r\n    } else {\r\n      var codeString = codeStringify(___mobileAdp);\r\n\r\n      injectElements = (\r\n        <script id=\"_a_d_p_\">\r\n          {`\r\n                            window.__m_adp__ = ` +\r\n            codeString +\r\n            `;\r\n\r\n                            var _adp_config = ` +\r\n            JSON.stringify(config) +\r\n            `;\r\n                            \r\n                            if (_adp_config.hasOwnProperty(\"queryList\")) {\r\n                                var clientWidth = window.document.documentElement.clientWidth;\r\n                                var windowHeight = window.document.documentElement.clientHeight;\r\n                                var testState = \"h\";\r\n                                if (clientWidth > windowHeight) {\r\n                                    testState = \"h\";\r\n                                } else {\r\n                                    testState = \"v\";\r\n                                }\r\n                                for (var i = 0; i < _adp_config.queryList.length; i++) {\r\n                                    var _item = _adp_config.queryList[i];\r\n                                    var _index = i;\r\n                                    var isCondition = false;\r\n                                    if (_item.mediaQuery.screenState === testState) {\r\n                                        isCondition = true;\r\n                                    }\r\n                                    if (isCondition) {\r\n\t\t\t\t\t\t\t\t\t\t_item.mediaQuery.config.debounceTime = 0;\r\n                                        window._a_d_p_d = new __m_adp__(_item.mediaQuery.config,_adp_config);\r\n                                        window._a_d_p_d.init();\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }else{\r\n\t\t\t\t\t\t\t\t_adp_config.debounceTime = 0;\r\n                                window._a_d_p_d = new __m_adp__(_adp_config);\r\n                                window._a_d_p_d.init();\r\n                            }\r\n                        `}\r\n        </script>\r\n      );\r\n      //如果是运行在服务端上面就写入一段原生代码,让分辨率适配在网页加载的第一时间进行适配\r\n      //如果这里不进行适配,那么在网页加载的第一时间,客户端代码还没注入的时候,页面将会抽搐一下,\r\n      //等客户端代码完全运行完成后,页面分辨率才会被适配到适合的样子,加入这段代码后,页面在到达浏览器的第一时间就可以开始适配的分辨率\r\n      helTags = <Helmet>{injectElements}</Helmet>;\r\n    }\r\n    return {\r\n      data: { helTags: helTags, elemsnts: injectElements },\r\n      funcs: mobileAdp,\r\n      screenState: screenState,\r\n    };\r\n  };\r\n\r\n  const getEnd = function(_ed: number): number {\r\n    if (_ed === -1) {\r\n      return 9999999999;\r\n    } else {\r\n      return _ed;\r\n    }\r\n  };\r\n\r\n  var clientWidth: number = 1920;\r\n  var windowHeight: number = 1080;\r\n  var testState: EscreenState = EscreenState.HORIZONTAL;\r\n\r\n  if (clientWidth > windowHeight) {\r\n    testState = EscreenState.HORIZONTAL;\r\n  } else {\r\n    testState = EscreenState.VERTICAL;\r\n  }\r\n\r\n  const testStateFunc = function(_isSetState: boolean) {\r\n    clientWidth = window.document.documentElement.clientWidth;\r\n    windowHeight = window.document.documentElement.clientHeight;\r\n\r\n    if (clientWidth > windowHeight) {\r\n      testState = EscreenState.HORIZONTAL;\r\n    } else {\r\n      testState = EscreenState.VERTICAL;\r\n    }\r\n\r\n    if (_isSetState === true) {\r\n      setscreenState(testState);\r\n    }\r\n  };\r\n\r\n  if (!isRunningInServer) {\r\n    const st = function() {\r\n      testStateFunc(true);\r\n    };\r\n    useEffect(function(): ReturnType<React.EffectCallback> {\r\n      $(window).resize(st);\r\n      testStateFunc(true);\r\n      return function(): void {\r\n        $(window).unbind('resize', st);\r\n      };\r\n    }, []);\r\n    testStateFunc(false);\r\n  }\r\n\r\n  /**\r\n   * 如果是多条参数适配\r\n   */\r\n  if (config.hasOwnProperty('queryList')) {\r\n    config = config as IconfigMutiple;\r\n    if (!isRunningInServer) {\r\n      if (typeof window['_a_d_p_d'] !== 'undefined') {\r\n        $('[name=viewport]').remove();\r\n        if (typeof window['_a_d_p_d']['distory'] !== 'undefined') {\r\n          window['_a_d_p_d']['distory']();\r\n        }\r\n      }\r\n      var result: any = null;\r\n      var findedResoList: Array<Imq> = [];\r\n      for (var i = 0; i < config.queryList.length; i++) {\r\n        var _item: Imq = config.queryList[i];\r\n        var isCondition: boolean = false;\r\n        if (_item.mediaQuery.screenState === testState) {\r\n          isCondition = true;\r\n        }\r\n        if (isCondition) {\r\n          findedResoList.push(_item);\r\n        }\r\n      }\r\n      if (findedResoList.length !== 0) {\r\n        if (findedResoList.length === 1) {\r\n          result = makeReso(findedResoList[0].mediaQuery.config, testState);\r\n        } else {\r\n          var last: Imq = null;\r\n          for (var i = 0; i < findedResoList.length; i++) {\r\n            var citem: Imq = findedResoList[i];\r\n            if (typeof citem.mediaQuery.scope !== 'undefined') {\r\n              if (\r\n                citem.mediaQuery.scope.startWidth <= clientWidth &&\r\n                getEnd(citem.mediaQuery.scope.endWidth) > clientWidth &&\r\n                citem.mediaQuery.scope.startHeight <= windowHeight &&\r\n                getEnd(citem.mediaQuery.scope.endHeight) > windowHeight\r\n              ) {\r\n                last = citem;\r\n                break;\r\n              }\r\n            } else {\r\n              last = citem;\r\n            }\r\n          }\r\n          result = makeReso(last.mediaQuery.config, testState);\r\n        }\r\n      }\r\n\r\n      return result;\r\n    } else {\r\n      return makeReso(config.queryList[0].mediaQuery.config, testState);\r\n    }\r\n  } else {\r\n    return makeReso(config, testState);\r\n  }\r\n};\r\n\r\nexport { useReso as default, _mobileAdp };\r\n","import useReso, { _mobileAdp } from './resoHook';\r\nexport type { Ireso, Iconfig, IconfigMutiple, Imq, queryItem } from './iReso';\r\n/**\r\n * 屏幕状态\r\n */\r\nexport enum EscreenState {\r\n\t/**\r\n\t * 横向屏幕\r\n\t */\r\n\tHORIZONTAL = \"h\",\r\n\t/**\r\n\t * 竖屏显示\r\n\t */\r\n\tVERTICAL = \"v\",\r\n}\r\n\r\n/**\r\n * 设置分辨率适配器的工作模式\r\n */\r\nexport enum EresoMode {\r\n\t/**\r\n\t * auto:自动选择高度还是宽度来调整\r\n\t */\r\n\tAUTO = \"auto\",\r\n\t/**\r\n\t * width:只通过宽度调整\r\n\t */\r\n\tWIDTH = \"width\",\r\n\t/**\r\n\t * height:只通过高度调整\r\n\t */\r\n\tHEIGHT = \"height\",\r\n}\r\n\r\nexport { useReso, _mobileAdp };\r\n"],"names":["EresoMode","EscreenState","_mobileAdp","_options","_mOptions","self","defaultOptions","fontSize","designWidth","designHeight","scaleLimit","enable","maxWidth","minWidth","maxHeight","minHeight","hCallBack","vCallBack","mode","debounceTime","extend","target","source","prop","state","init","_callback","adaptVP","uWidth","adpRem","rebind","_callBack","reInit","findedResoList","i","queryList","length","_item","isCondition","mediaQuery","screenState","push","clientWidth","window","document","documentElement","windowHeight","clientHeight","config","last","citem","scope","startWidth","getEnd","endWidth","startHeight","endHeight","doc","win","docEl","resizeEvt","recalc","hasOwnProperty","compTarget","orgPre","currPre","res","adWidth","adHeight","style","resizeF","debounceSetFontSize","addEventListener","distory","removeEventListener","debounceTimeOut","_recalc","clearTimeout","setTimeout","d","e","o","dWidth","screen","width","availWidth","ratio","devicePixelRatio","userAgent","navigator","bConsole","match","parseFloat","t","a","n","r","indexOf","querySelector","createElement","name","content","getElementsByTagName","appendChild","key","codeStringify","require","useReso","AUTO","$","useJquery","useState","HORIZONTAL","setscreenState","makeReso","_config","_testState","___mobileAdp","mobileAdp","helTags","injectElements","isRunningInServer","remove","codeString","React","id","JSON","stringify","Helmet","data","elemsnts","funcs","_ed","testState","VERTICAL","testStateFunc","_isSetState","st","useEffect","resize","unbind","result"],"mappings":"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"}